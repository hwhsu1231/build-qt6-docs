<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
<!-- qstatemachine.cpp -->
  <meta name="description" content="The QStateMachine class provides a hierarchical finite state machine.">
  <title>QStateMachine Class | Qt State Machine 6.6.0</title>
  <link rel="stylesheet" type="text/css" href="style/offline-simple.css" />
  <script type="text/javascript">
    document.getElementsByTagName("link").item(0).setAttribute("href", "style/offline.css");
    // loading style sheet breaks anchors that were jumped to before
    // so force jumping to anchor again
    setTimeout(function() {
        var anchor = location.hash;
        // need to jump to different anchor first (e.g. none)
        location.hash = "#";
        setTimeout(function() {
            location.hash = anchor;
        }, 0);
    }, 0);
  </script>
</head>
<body>
<div class="header" id="qtdocheader">
    <div class="main">
    <div class="main-rounded">
        <div class="navigationbar">
        <ul>
<li><a href="../qtdoc/index.html" translate="no">Qt 6.6</a></li>
<li><a href="qtstatemachine-index.html" translate="no">Qt State Machine</a></li>
<li><a href="qtstatemachine-module.html" translate="no">C++ Classes</a></li>
<li>QStateMachine</li>
<li id="buildversion"><a href="qtstatemachine-index.html" translate="no">Qt 6.6&#x2e;0 Reference Documentation</a></li>
    </ul>
    </div>
</div>
<div class="content">
<div class="line">
<div class="content mainContent">
<div class="sidebar">
<div class="toc">
<h3 id="toc">Contents</h3>
<ul>
<li class="level1"><a href="#public-types">Public Types</a></li>
<li class="level1"><a href="#properties">Properties</a></li>
<li class="level1"><a href="#public-functions">Public Functions</a></li>
<li class="level1"><a href="#reimplemented-public-functions">Reimplemented Public Functions</a></li>
<li class="level1"><a href="#public-slots">Public Slots</a></li>
<li class="level1"><a href="#signals">Signals</a></li>
<li class="level1"><a href="#reimplemented-protected-functions">Reimplemented Protected Functions</a></li>
<li class="level1"><a href="#details">Detailed Description</a></li>
</ul>
</div>
<div class="sidebar-content" id="sidebar-content"></div></div>
<h1 class="title" translate="no">QStateMachine Class</h1>
<!-- $$$QStateMachine-brief -->
<p>The QStateMachine class provides a hierarchical finite state machine. <a href="#details">More...</a></p>
<!-- @@@QStateMachine -->
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> Header:</td><td class="memItemRight bottomAlign">  <span class="preprocessor">#include &lt;QStateMachine&gt;</span></td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> CMake:</td><td class="memItemRight bottomAlign"> find_package(Qt6 REQUIRED COMPONENTS StateMachine) <br/>
target_link_libraries(mytarget PRIVATE Qt6::StateMachine)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> qmake:</td><td class="memItemRight bottomAlign"> QT += statemachine</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> Inherits:</td><td class="memItemRight bottomAlign"> <a href="qstate.html" translate="no">QState</a></td></tr>
</table></div>
<ul>
<li><a href="qstatemachine-members.html">List of all members, including inherited members</a></li>
<li><a href="qstatemachine-obsolete.html">Deprecated members</a></li>
</ul>
<p><b>Note:</b> All functions in this class are <a href="../qtdoc/threads-reentrancy.html" translate="no">reentrant</a>.</p>
<p><b>Note:</b> These functions are also <a href="../qtdoc/threads-reentrancy.html" translate="no">thread-safe</a>:</p>
<ul>
<li><a href="qstatemachine.html#postEvent" translate="no">postEvent</a>(QEvent *event, QStateMachine::EventPriority priority)</li>
<li><a href="qstatemachine.html#postDelayedEvent" translate="no">postDelayedEvent</a>(QEvent *event, int delay)</li>
<li><a href="qstatemachine.html#cancelDelayedEvent" translate="no">cancelDelayedEvent</a>(int id)</li>
<li><a href="qstatemachine.html#postDelayedEvent-1" translate="no">postDelayedEvent</a>(QEvent *event, std::chrono::milliseconds delay)</li>
</ul>
<h2 id="public-types">Public Types</h2>
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> class </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine-signalevent.html" translate="no">SignalEvent</a></b></td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> class </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine-wrappedevent.html" translate="no">WrappedEvent</a></b></td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> enum </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#Error-enum" translate="no">Error</a></b> { NoError, NoInitialStateError, NoDefaultStateInHistoryStateError, NoCommonAncestorForTransitionError, StateMachineChildModeSetToParallelError }</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> enum </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#EventPriority-enum" translate="no">EventPriority</a></b> { NormalPriority, HighPriority }</td></tr>
</table></div>
<h2 id="properties">Properties</h2>
<ul>
<li class="fn" translate="no"><b><a href="qstatemachine.html#animated-prop" translate="no">animated</a></b> : bool</li>
<li class="fn" translate="no"><b><a href="qstatemachine.html#errorString-prop" translate="no">errorString</a></b> : QString</li>
<li class="fn" translate="no"><b><a href="qstatemachine.html#globalRestorePolicy-prop" translate="no">globalRestorePolicy</a></b> : QState::RestorePolicy</li>
<li class="fn" translate="no"><b><a href="qstatemachine.html#running-prop" translate="no">running</a></b> : bool</li>
</ul>
<h2 id="public-functions">Public Functions</h2>
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#QStateMachine" translate="no">QStateMachine</a></b>(QObject *<i>parent</i> = nullptr)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#dtor.QStateMachine" translate="no">~QStateMachine</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#addDefaultAnimation" translate="no">addDefaultAnimation</a></b>(QAbstractAnimation *<i>animation</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#addState" translate="no">addState</a></b>(QAbstractState *<i>state</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QBindable&lt;bool&gt; </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#animated-prop" translate="no">bindableAnimated</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QBindable&lt;QString&gt; </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#errorString-prop" translate="no">bindableErrorString</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QBindable&lt;QState::RestorePolicy&gt; </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#globalRestorePolicy-prop" translate="no">bindableGlobalRestorePolicy</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#cancelDelayedEvent" translate="no">cancelDelayedEvent</a></b>(int <i>id</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#clearError" translate="no">clearError</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QSet&lt;QAbstractState *&gt; </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#configuration" translate="no">configuration</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QList&lt;QAbstractAnimation *&gt; </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#defaultAnimations" translate="no">defaultAnimations</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QStateMachine::Error </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#error" translate="no">error</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QString </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#errorString" translate="no">errorString</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QState::RestorePolicy </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#globalRestorePolicy" translate="no">globalRestorePolicy</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#isAnimated" translate="no">isAnimated</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#running-prop" translate="no">isRunning</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> int </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#postDelayedEvent" translate="no">postDelayedEvent</a></b>(QEvent *<i>event</i>, int <i>delay</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> int </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#postDelayedEvent-1" translate="no">postDelayedEvent</a></b>(QEvent *<i>event</i>, std::chrono::milliseconds <i>delay</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#postEvent" translate="no">postEvent</a></b>(QEvent *<i>event</i>, QStateMachine::EventPriority <i>priority</i> = NormalPriority)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#removeDefaultAnimation" translate="no">removeDefaultAnimation</a></b>(QAbstractAnimation *<i>animation</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#removeState" translate="no">removeState</a></b>(QAbstractState *<i>state</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#setAnimated" translate="no">setAnimated</a></b>(bool <i>enabled</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#setGlobalRestorePolicy" translate="no">setGlobalRestorePolicy</a></b>(QState::RestorePolicy <i>restorePolicy</i>)</td></tr>
</table></div>
<h2 id="reimplemented-public-functions">Reimplemented Public Functions</h2>
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> virtual bool </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#eventFilter" translate="no">eventFilter</a></b>(QObject *<i>watched</i>, QEvent *<i>event</i>) override</td></tr>
</table></div>
<h2 id="public-slots">Public Slots</h2>
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#running-prop" translate="no">setRunning</a></b>(bool <i>running</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#start" translate="no">start</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#stop" translate="no">stop</a></b>()</td></tr>
</table></div>
<h2 id="signals">Signals</h2>
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#runningChanged" translate="no">runningChanged</a></b>(bool <i>running</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#started" translate="no">started</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#stopped" translate="no">stopped</a></b>()</td></tr>
</table></div>
<h2 id="reimplemented-protected-functions">Reimplemented Protected Functions</h2>
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> virtual bool </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#event" translate="no">event</a></b>(QEvent *<i>e</i>) override</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual void </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#onEntry" translate="no">onEntry</a></b>(QEvent *<i>event</i>) override</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual void </td><td class="memItemRight bottomAlign"><b><a href="qstatemachine.html#onExit" translate="no">onExit</a></b>(QEvent *<i>event</i>) override</td></tr>
</table></div>
<!-- $$$QStateMachine-description -->
<div class="descr">
<h2 id="details">Detailed Description</h2>
<p>QStateMachine is based on the concepts and notation of <a href="http://www.wisdom.weizmann.ac.il/~dharel/SCANNED.PAPERS/Statecharts.pdf" translate="no">Statecharts</a>. QStateMachine is part of <a href="qtstatemachine-overview.html" translate="no">Qt State Machine Framework</a>.</p>
<p>A state machine manages a set of states (classes that inherit from <a href="qml-qtqml-statemachine-qabstractstate.html" translate="no">QAbstractState</a>) and transitions (descendants of <a href="qml-qtqml-statemachine-qabstracttransition.html" translate="no">QAbstractTransition</a>) between those states; these states and transitions define a state graph. Once a state graph has been built, the state machine can execute it. QStateMachine's execution algorithm is based on the <a href="http://www.w3.org/TR/scxml/" translate="no">State Chart XML (SCXML)</a> algorithm. The framework's <a href="qtstatemachine-overview.html" translate="no">overview</a> gives several state graphs and the code to build them.</p>
<p>Use the <a href="qstatemachine.html#addState" translate="no">addState</a>() function to add a top-level state to the state machine. States are removed with the <a href="qstatemachine.html#removeState" translate="no">removeState</a>() function. Removing states while the machine is running is discouraged.</p>
<p>Before the machine can be started, the <a href="qstate.html#initialState" translate="no">initial state</a> must be set. The initial state is the state that the machine enters when started. You can then <a href="qstatemachine.html#start" translate="no">start</a>() the state machine. The <a href="qstatemachine.html#started" translate="no">started</a>() signal is emitted when the initial state is entered.</p>
<p>The machine is event driven and keeps its own event loop. Events are posted to the machine through <a href="qstatemachine.html#postEvent" translate="no">postEvent</a>(). Note that this means that it executes asynchronously, and that it will not progress without a running event loop. You will normally not have to post events to the machine directly as Qt's transitions, e.g&#x2e;, <a href="qeventtransition.html" translate="no">QEventTransition</a> and its subclasses, handle this. But for custom transitions triggered by events, <a href="qstatemachine.html#postEvent" translate="no">postEvent</a>() is useful.</p>
<p>The state machine processes events and takes transitions until a top-level final state is entered; the state machine then emits the <a href="qstate.html#finished" translate="no">finished</a>() signal. You can also <a href="qstatemachine.html#stop" translate="no">stop</a>() the state machine explicitly. The <a href="qstatemachine.html#stopped" translate="no">stopped</a>() signal is emitted in this case.</p>
<p>The following snippet shows a state machine that will finish when a button is clicked:</p>
<pre class="cpp" translate="no">
 <span class="type"><a href="../qtwidgets/qpushbutton.html" translate="no">QPushButton</a></span> button;

 <span class="type"><a href="qstatemachine.html#QStateMachine" translate="no">QStateMachine</a></span> machine;
 <span class="type"><a href="qstate.html#QState" translate="no">QState</a></span> <span class="operator">*</span>s1 <span class="operator">=</span> <span class="keyword">new</span> <span class="type"><a href="qstate.html#QState" translate="no">QState</a></span>();
 s1<span class="operator">-</span><span class="operator">&gt;</span>assignProperty(<span class="operator">&amp;</span>button<span class="operator">,</span> <span class="string">&quot;text&quot;</span><span class="operator">,</span> <span class="string">&quot;Click me&quot;</span>);

 <span class="type"><a href="qfinalstate.html" translate="no">QFinalState</a></span> <span class="operator">*</span>s2 <span class="operator">=</span> <span class="keyword">new</span> <span class="type"><a href="qfinalstate.html" translate="no">QFinalState</a></span>();
 s1<span class="operator">-</span><span class="operator">&gt;</span>addTransition(<span class="operator">&amp;</span>button<span class="operator">,</span> <span class="operator">&amp;</span><span class="type"><a href="../qtwidgets/qpushbutton.html" translate="no">QPushButton</a></span><span class="operator">::</span>clicked<span class="operator">,</span> s2);

 machine<span class="operator">.</span>addState(s1);
 machine<span class="operator">.</span>addState(s2);
 machine<span class="operator">.</span>setInitialState(s1);
 machine<span class="operator">.</span>start();
</pre>
<p>This code example uses <a href="qstate.html" translate="no">QState</a>, which inherits <a href="qml-qtqml-statemachine-qabstractstate.html" translate="no">QAbstractState</a>. The <a href="qstate.html" translate="no">QState</a> class provides a state that you can use to set properties and invoke methods on <a href="../qtcore/qobject.html" translate="no">QObject</a>s when the state is entered or exited. It also contains convenience functions for adding transitions, e.g&#x2e;, <a href="qml-qtqml-statemachine-qsignaltransition.html" translate="no">QSignalTransition</a>s as in this example. See the <a href="qstate.html" translate="no">QState</a> class description for further details.</p>
<p>If an error is encountered, the machine will look for an <a href="qstate.html#errorState" translate="no">error state</a>, and if one is available, it will enter this state. The types of errors possible are described by the <a href="qstatemachine.html#Error-enum" translate="no">Error</a> enum. After the error state is entered, the type of the error can be retrieved with <a href="qstatemachine.html#error" translate="no">error</a>(). The execution of the state graph will not stop when the error state is entered. If no error state applies to the erroneous state, the machine will stop executing and an error message will be printed to the console.</p>
<div class="admonition note">
<p><b>Note: </b>Important: setting the <a href="qstate.html#ChildMode-enum" translate="no">ChildMode</a> of a state machine to parallel (<a href="qstate.html#ChildMode-enum" translate="no">ParallelStates</a>) results in an invalid state machine. It can only be set to (or kept as) <a href="qstate.html#ChildMode-enum" translate="no">ExclusiveStates</a>.</p>
</div>
</div>
<p><b>See also </b><a href="qabstractstate.html" translate="no">QAbstractState</a>, <a href="qml-qtqml-statemachine-qabstracttransition.html" translate="no">QAbstractTransition</a>, <a href="qstate.html" translate="no">QState</a>, and <a href="qtstatemachine-overview.html" translate="no">Qt State Machine Overview</a>.</p>
<!-- @@@QStateMachine -->
<div class="types">
<h2>Member Type Documentation</h2>
<!-- $$$Error$$$NoError$$$NoInitialStateError$$$NoDefaultStateInHistoryStateError$$$NoCommonAncestorForTransitionError$$$StateMachineChildModeSetToParallelError -->
<h3 class="fn" translate="no" id="Error-enum">enum QStateMachine::<span class="name">Error</span></h3>
<p>This enum type defines errors that can occur in the state machine at run time. When the state machine encounters an unrecoverable error at run time, it will set the error code returned by <a href="qstatemachine.html#error" translate="no">error</a>(), the error message returned by <a href="qstatemachine.html#errorString" translate="no">errorString</a>(), and enter an error state based on the context of the error.</p>
<div class="table"><table class="valuelist"><tr valign="top" class="odd"><th class="tblConst">Constant</th><th class="tblval">Value</th><th class="tbldscr">Description</th></tr>
<tr><td class="topAlign"><code translate="no">QStateMachine::NoError</code></td><td class="topAlign tblval"><code translate="no">0</code></td><td class="topAlign">No error has occurred.</td></tr>
<tr><td class="topAlign"><code translate="no">QStateMachine::NoInitialStateError</code></td><td class="topAlign tblval"><code translate="no">1</code></td><td class="topAlign">The machine has entered a <a href="qstate.html" translate="no">QState</a> with children which does not have an initial state set. The context of this error is the state which is missing an initial state.</td></tr>
<tr><td class="topAlign"><code translate="no">QStateMachine::NoDefaultStateInHistoryStateError</code></td><td class="topAlign tblval"><code translate="no">2</code></td><td class="topAlign">The machine has entered a <a href="qhistorystate.html" translate="no">QHistoryState</a> which does not have a default state set. The context of this error is the <a href="qhistorystate.html" translate="no">QHistoryState</a> which is missing a default state.</td></tr>
<tr><td class="topAlign"><code translate="no">QStateMachine::NoCommonAncestorForTransitionError</code></td><td class="topAlign tblval"><code translate="no">3</code></td><td class="topAlign">The machine has selected a transition whose source and targets are not part of the same tree of states, and thus are not part of the same state machine. Commonly, this could mean that one of the states has not been given any parent or added to any machine. The context of this error is the source state of the transition.</td></tr>
<tr><td class="topAlign"><code translate="no">QStateMachine::StateMachineChildModeSetToParallelError</code></td><td class="topAlign tblval"><code translate="no">4</code></td><td class="topAlign">The machine's <a href="qstate.html#childMode" translate="no">childMode</a> property was set to <a href="qstate.html#ChildMode-enum" translate="no">QState::ParallelStates</a>. This is illegal. Only states may be declared as parallel, not the state machine itself. This enum value was added in Qt 5.14.</td></tr>
</table></div>
<p><b>See also </b><a href="qstate.html#setErrorState" translate="no">setErrorState</a>().</p>
<!-- @@@Error -->
<!-- $$$EventPriority$$$NormalPriority$$$HighPriority -->
<h3 class="fn" translate="no" id="EventPriority-enum">enum QStateMachine::<span class="name">EventPriority</span></h3>
<p>This enum type specifies the priority of an event posted to the state machine using <a href="qstatemachine.html#postEvent" translate="no">postEvent</a>().</p>
<p>Events of high priority are processed before events of normal priority.</p>
<div class="table"><table class="valuelist"><tr valign="top" class="odd"><th class="tblConst">Constant</th><th class="tblval">Value</th><th class="tbldscr">Description</th></tr>
<tr><td class="topAlign"><code translate="no">QStateMachine::NormalPriority</code></td><td class="topAlign tblval"><code translate="no">0</code></td><td class="topAlign">The event has normal priority.</td></tr>
<tr><td class="topAlign"><code translate="no">QStateMachine::HighPriority</code></td><td class="topAlign tblval"><code translate="no">1</code></td><td class="topAlign">The event has high priority.</td></tr>
</table></div>
<!-- @@@EventPriority -->
</div>
<div class="prop">
<h2>Property Documentation</h2>
<!-- $$$animated-prop$$$isAnimated$$$setAnimatedbool$$$bindableAnimated -->
<h3 class="fn" translate="no" id="animated-prop"><code translate="no">[bindable] </code><span class="name">animated</span> : <span class="type">bool</span></h3>
<div class="admonition note"><p><b>Note: </b>This property supports <a href="../qtcore/qproperty.html" translate="no">QProperty</a> bindings.</p>
</div><p>This property holds whether animations are enabled</p>
<p>The default value of this property is <code translate="no">true</code>.</p>
<p><b>See also</b> <a href="qabstracttransition.html#addAnimation" translate="no">QAbstractTransition::addAnimation</a>()</p>
<!-- @@@animated -->
<!-- $$$errorString-prop$$$errorString$$$bindableErrorString -->
<h3 class="fn" translate="no" id="errorString-prop"><code translate="no">[bindable read-only] </code><span class="name">errorString</span> : <span class="type"><a href="../qtcore/qstring.html" translate="no">QString</a></span></h3>
<div class="admonition note"><p><b>Note: </b>This property supports <a href="../qtcore/qproperty.html" translate="no">QProperty</a> bindings.</p>
</div><p>This property holds the error string of this state machine</p>
<!-- @@@errorString -->
<!-- $$$globalRestorePolicy-prop$$$globalRestorePolicy$$$setGlobalRestorePolicyQState::RestorePolicy$$$bindableGlobalRestorePolicy -->
<h3 class="fn" translate="no" id="globalRestorePolicy-prop"><code translate="no">[bindable] </code><span class="name">globalRestorePolicy</span> : <span class="type"><a href="qstate.html#RestorePolicy-enum" translate="no">QState::RestorePolicy</a></span></h3>
<div class="admonition note"><p><b>Note: </b>This property supports <a href="../qtcore/qproperty.html" translate="no">QProperty</a> bindings.</p>
</div><p>This property holds the restore policy for states of this state machine.</p>
<p>The default value of this property is <a href="qstate.html#RestorePolicy-enum" translate="no">QState::DontRestoreProperties</a>.</p>
<!-- @@@globalRestorePolicy -->
<!-- $$$running-prop$$$isRunning$$$setRunningbool$$$runningChangedbool -->
<h3 class="fn" translate="no" id="running-prop"><span class="name">running</span> : <span class="type">bool</span></h3>
<p>This property holds the running state of this state machine</p>
<p><b>Access functions:</b></p>
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft topAlign rightAlign"> bool </td><td class="memItemRight bottomAlign"><span class="name"><b>isRunning</b></span>() const</td></tr>
<tr><td class="memItemLeft topAlign rightAlign"> void </td><td class="memItemRight bottomAlign"><span class="name"><b>setRunning</b></span>(bool <i>running</i>)</td></tr>
</table></div>
<p><b>Notifier signal:</b></p>
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft topAlign rightAlign"> void </td><td class="memItemRight bottomAlign"><span class="name"><b><a href="qstatemachine.html#runningChanged" translate="no">runningChanged</a></b></span>(bool <i>running</i>)</td></tr>
</table></div>
<p><b>See also </b><a href="qstatemachine.html#start" translate="no">start</a>(), <a href="qstatemachine.html#stop" translate="no">stop</a>(), <a href="qstatemachine.html#started" translate="no">started</a>(), <a href="qstatemachine.html#stopped" translate="no">stopped</a>(), and <a href="qstatemachine.html#runningChanged" translate="no">runningChanged</a>().</p>
<!-- @@@running -->
</div>
<div class="func">
<h2>Member Function Documentation</h2>
<!-- $$$QStateMachine[overload1]$$$QStateMachineQObject* -->
<h3 class="fn" translate="no" id="QStateMachine"><code translate="no">[explicit] </code>QStateMachine::<span class="name">QStateMachine</span>(<span class="type"><a href="../qtcore/qobject.html#QObject" translate="no">QObject</a></span> *<i>parent</i> = nullptr)</h3>
<p>Constructs a new state machine with the given <i translate="no">parent</i>.</p>
<!-- @@@QStateMachine -->
<!-- $$$~QStateMachine[overload1]$$$~QStateMachine -->
<h3 class="fn" translate="no" id="dtor.QStateMachine"><code translate="no">[virtual noexcept] </code>QStateMachine::<span class="name">~QStateMachine</span>()</h3>
<p>Destroys this state machine.</p>
<!-- @@@~QStateMachine -->
<!-- $$$addDefaultAnimation[overload1]$$$addDefaultAnimationQAbstractAnimation* -->
<h3 class="fn" translate="no" id="addDefaultAnimation"><span class="type">void</span> QStateMachine::<span class="name">addDefaultAnimation</span>(<span class="type"><a href="../qtcore/qabstractanimation.html" translate="no">QAbstractAnimation</a></span> *<i>animation</i>)</h3>
<p>Adds a default <i translate="no">animation</i> to be considered for any transition.</p>
<!-- @@@addDefaultAnimation -->
<!-- $$$addState[overload1]$$$addStateQAbstractState* -->
<h3 class="fn" translate="no" id="addState"><span class="type">void</span> QStateMachine::<span class="name">addState</span>(<span class="type"><a href="qabstractstate.html#QAbstractState" translate="no">QAbstractState</a></span> *<i>state</i>)</h3>
<p>Adds the given <i translate="no">state</i> to this state machine. The state becomes a top-level state and the state machine takes ownership of the state.</p>
<p>If the state is already in a different machine, it will first be removed from its old machine, and then added to this machine.</p>
<p><b>See also </b><a href="qstatemachine.html#removeState" translate="no">removeState</a>() and <a href="qstate.html#setInitialState" translate="no">setInitialState</a>().</p>
<!-- @@@addState -->
<!-- $$$cancelDelayedEvent[overload1]$$$cancelDelayedEventint -->
<h3 class="fn" translate="no" id="cancelDelayedEvent"><span class="type">bool</span> QStateMachine::<span class="name">cancelDelayedEvent</span>(<span class="type">int</span> <i>id</i>)</h3>
<p>Cancels the delayed event identified by the given <i translate="no">id</i>. The id should be a value returned by a call to <a href="qstatemachine.html#postDelayedEvent" translate="no">postDelayedEvent</a>(). Returns <code translate="no">true</code> if the event was successfully cancelled, otherwise returns <code translate="no">false</code>.</p>
<p><b>Note:</b> This function is <a href="../qtdoc/threads-reentrancy.html" translate="no">thread-safe</a>.</p>
<p><b>See also </b><a href="qstatemachine.html#postDelayedEvent" translate="no">postDelayedEvent</a>().</p>
<!-- @@@cancelDelayedEvent -->
<!-- $$$clearError[overload1]$$$clearError -->
<h3 class="fn" translate="no" id="clearError"><span class="type">void</span> QStateMachine::<span class="name">clearError</span>()</h3>
<p>Clears the error string and error code of the state machine.</p>
<!-- @@@clearError -->
<!-- $$$configuration[overload1]$$$configuration -->
<h3 class="fn" translate="no" id="configuration"><span class="type"><a href="../qtcore/qset.html" translate="no">QSet</a></span>&lt;<span class="type"><a href="qabstractstate.html#QAbstractState" translate="no">QAbstractState</a></span> *&gt; QStateMachine::<span class="name">configuration</span>() const</h3>
<p>Returns the maximal consistent set of states (including parallel and final states) that this state machine is currently in. If a state <code translate="no">s</code> is in the configuration, it is always the case that the parent of <code translate="no">s</code> is also in c. Note, however, that the machine itself is not an explicit member of the configuration.</p>
<!-- @@@configuration -->
<!-- $$$defaultAnimations[overload1]$$$defaultAnimations -->
<h3 class="fn" translate="no" id="defaultAnimations"><span class="type"><a href="../qtcore/qlist.html" translate="no">QList</a></span>&lt;<span class="type"><a href="../qtcore/qabstractanimation.html" translate="no">QAbstractAnimation</a></span> *&gt; QStateMachine::<span class="name">defaultAnimations</span>() const</h3>
<p>Returns the list of default animations that will be considered for any transition.</p>
<!-- @@@defaultAnimations -->
<!-- $$$error[overload1]$$$error -->
<h3 class="fn" translate="no" id="error"><span class="type"><a href="qstatemachine.html#Error-enum" translate="no">QStateMachine::Error</a></span> QStateMachine::<span class="name">error</span>() const</h3>
<p>Returns the error code of the last error that occurred in the state machine.</p>
<!-- @@@error -->
<!-- $$$errorString -->
<h3 class="fn" translate="no" id="errorString"><span class="type"><a href="../qtcore/qstring.html" translate="no">QString</a></span> QStateMachine::<span class="name">errorString</span>() const</h3>
<p>Returns the error string of the last error that occurred in the state machine.</p>
<div class="admonition note"><p><b>Note: </b>Getter function for property errorString. </p>
</div><!-- @@@errorString -->
<!-- $$$event[overload1]$$$eventQEvent* -->
<h3 class="fn" translate="no" id="event"><code translate="no">[override virtual protected] </code><span class="type">bool</span> QStateMachine::<span class="name">event</span>(<span class="type"><a href="../qtcore/qevent.html" translate="no">QEvent</a></span> *<i>e</i>)</h3>
<p>Reimplements: <a href="qstate.html#event" translate="no">QState::event</a>(QEvent *e).</p>
<!-- @@@event -->
<!-- $$$eventFilter[overload1]$$$eventFilterQObject*QEvent* -->
<h3 class="fn" translate="no" id="eventFilter"><code translate="no">[override virtual] </code><span class="type">bool</span> QStateMachine::<span class="name">eventFilter</span>(<span class="type"><a href="../qtcore/qobject.html#QObject" translate="no">QObject</a></span> *<i>watched</i>, <span class="type"><a href="../qtcore/qevent.html" translate="no">QEvent</a></span> *<i>event</i>)</h3>
<p>Reimplements: <a href="../qtcore/qobject.html#eventFilter" translate="no">QObject::eventFilter</a>(QObject *watched, QEvent *event).</p>
<!-- @@@eventFilter -->
<!-- $$$globalRestorePolicy -->
<h3 class="fn" translate="no" id="globalRestorePolicy"><span class="type"><a href="qstate.html#RestorePolicy-enum" translate="no">QState::RestorePolicy</a></span> QStateMachine::<span class="name">globalRestorePolicy</span>() const</h3>
<p>Returns the restore policy of the state machine.</p>
<div class="admonition note"><p><b>Note: </b>Getter function for property globalRestorePolicy. </p>
</div><p><b>See also </b><a href="qstatemachine.html#setGlobalRestorePolicy" translate="no">setGlobalRestorePolicy</a>().</p>
<!-- @@@globalRestorePolicy -->
<!-- $$$isAnimated -->
<h3 class="fn" translate="no" id="isAnimated"><span class="type">bool</span> QStateMachine::<span class="name">isAnimated</span>() const</h3>
<p>Returns whether animations are enabled for this state machine.</p>
<div class="admonition note"><p><b>Note: </b>Getter function for property <a href="qstatemachine.html#animated-prop" translate="no">animated</a>. </p>
</div><!-- @@@isAnimated -->
<!-- $$$onEntry[overload1]$$$onEntryQEvent* -->
<h3 class="fn" translate="no" id="onEntry"><code translate="no">[override virtual protected] </code><span class="type">void</span> QStateMachine::<span class="name">onEntry</span>(<span class="type"><a href="../qtcore/qevent.html" translate="no">QEvent</a></span> *<i>event</i>)</h3>
<p>Reimplements: <a href="qstate.html#onEntry" translate="no">QState::onEntry</a>(QEvent *event).</p>
<p>This function will call <a href="qstatemachine.html#start" translate="no">start</a>() to start the state machine.</p>
<!-- @@@onEntry -->
<!-- $$$onExit[overload1]$$$onExitQEvent* -->
<h3 class="fn" translate="no" id="onExit"><code translate="no">[override virtual protected] </code><span class="type">void</span> QStateMachine::<span class="name">onExit</span>(<span class="type"><a href="../qtcore/qevent.html" translate="no">QEvent</a></span> *<i>event</i>)</h3>
<p>Reimplements: <a href="qstate.html#onExit" translate="no">QState::onExit</a>(QEvent *event).</p>
<p>This function will call <a href="qstatemachine.html#stop" translate="no">stop</a>() to stop the state machine and subsequently emit the <a href="qstatemachine.html#stopped" translate="no">stopped</a>() signal.</p>
<!-- @@@onExit -->
<!-- $$$postDelayedEvent[overload1]$$$postDelayedEventQEvent*int -->
<h3 class="fn" translate="no" id="postDelayedEvent"><span class="type">int</span> QStateMachine::<span class="name">postDelayedEvent</span>(<span class="type"><a href="../qtcore/qevent.html" translate="no">QEvent</a></span> *<i>event</i>, <span class="type">int</span> <i>delay</i>)</h3>
<p>Posts the given <i translate="no">event</i> for processing by this state machine, with the given <i translate="no">delay</i> in milliseconds. Returns an identifier associated with the delayed event, or -1 if the event could not be posted.</p>
<p>This function returns immediately. When the delay has expired, the event will be added to the state machine's event queue for processing. The state machine takes ownership of the event and deletes it once it has been processed.</p>
<p>You can only post events when the state machine is running.</p>
<p><b>Note:</b> This function is <a href="../qtdoc/threads-reentrancy.html" translate="no">thread-safe</a>.</p>
<p><b>See also </b><a href="qstatemachine.html#cancelDelayedEvent" translate="no">cancelDelayedEvent</a>() and <a href="qstatemachine.html#postEvent" translate="no">postEvent</a>().</p>
<!-- @@@postDelayedEvent -->
<!-- $$$postDelayedEvent$$$postDelayedEventQEvent*std::chrono::milliseconds -->
<h3 class="fn" translate="no" id="postDelayedEvent-1"><span class="type">int</span> QStateMachine::<span class="name">postDelayedEvent</span>(<span class="type"><a href="../qtcore/qevent.html" translate="no">QEvent</a></span> *<i>event</i>, <span class="type">std::chrono::milliseconds</span> <i>delay</i>)</h3>
<p>This is an overloaded function.</p>
<p>Posts the given <i translate="no">event</i> for processing by this state machine, with the given <i translate="no">delay</i> in milliseconds. Returns an identifier associated with the delayed event, or -1 if the event could not be posted.</p>
<p>This function returns immediately. When the delay has expired, the event will be added to the state machine's event queue for processing. The state machine takes ownership of the event and deletes it once it has been processed.</p>
<p>You can only post events when the state machine is running.</p>
<p><b>Note:</b> This function is <a href="../qtdoc/threads-reentrancy.html" translate="no">thread-safe</a>.</p>
<p><b>See also </b><a href="qstatemachine.html#cancelDelayedEvent" translate="no">cancelDelayedEvent</a>() and <a href="qstatemachine.html#postEvent" translate="no">postEvent</a>().</p>
<!-- @@@postDelayedEvent -->
<!-- $$$postEvent[overload1]$$$postEventQEvent*QStateMachine::EventPriority -->
<h3 class="fn" translate="no" id="postEvent"><span class="type">void</span> QStateMachine::<span class="name">postEvent</span>(<span class="type"><a href="../qtcore/qevent.html" translate="no">QEvent</a></span> *<i>event</i>, <span class="type"><a href="qstatemachine.html#EventPriority-enum" translate="no">QStateMachine::EventPriority</a></span> <i>priority</i> = NormalPriority)</h3>
<p>Posts the given <i translate="no">event</i> of the given <i translate="no">priority</i> for processing by this state machine.</p>
<p>This function returns immediately. The event is added to the state machine's event queue. Events are processed in the order posted. The state machine takes ownership of the event and deletes it once it has been processed.</p>
<p>You can only post events when the state machine is running or when it is starting up.</p>
<p><b>Note:</b> This function is <a href="../qtdoc/threads-reentrancy.html" translate="no">thread-safe</a>.</p>
<p><b>See also </b><a href="qstatemachine.html#postDelayedEvent" translate="no">postDelayedEvent</a>().</p>
<!-- @@@postEvent -->
<!-- $$$removeDefaultAnimation[overload1]$$$removeDefaultAnimationQAbstractAnimation* -->
<h3 class="fn" translate="no" id="removeDefaultAnimation"><span class="type">void</span> QStateMachine::<span class="name">removeDefaultAnimation</span>(<span class="type"><a href="../qtcore/qabstractanimation.html" translate="no">QAbstractAnimation</a></span> *<i>animation</i>)</h3>
<p>Removes <i translate="no">animation</i> from the list of default animations.</p>
<!-- @@@removeDefaultAnimation -->
<!-- $$$removeState[overload1]$$$removeStateQAbstractState* -->
<h3 class="fn" translate="no" id="removeState"><span class="type">void</span> QStateMachine::<span class="name">removeState</span>(<span class="type"><a href="qabstractstate.html#QAbstractState" translate="no">QAbstractState</a></span> *<i>state</i>)</h3>
<p>Removes the given <i translate="no">state</i> from this state machine. The state machine releases ownership of the state.</p>
<p><b>See also </b><a href="qstatemachine.html#addState" translate="no">addState</a>().</p>
<!-- @@@removeState -->
<!-- $$$runningChanged -->
<h3 class="fn" translate="no" id="runningChanged"><code translate="no">[signal] </code><span class="type">void</span> QStateMachine::<span class="name">runningChanged</span>(<span class="type">bool</span> <i>running</i>)</h3>
<p>This signal is emitted when the running property is changed with <i translate="no">running</i> as argument.</p>
<div class="admonition note"><p><b>Note: </b>Notifier signal for property <a href="qstatemachine.html#running-prop" translate="no">running</a>. </p>
</div><p><b>See also </b><a href="qstatemachine.html#running-prop" translate="no">QStateMachine::running</a>.</p>
<!-- @@@runningChanged -->
<!-- $$$setAnimated -->
<h3 class="fn" translate="no" id="setAnimated"><span class="type">void</span> QStateMachine::<span class="name">setAnimated</span>(<span class="type">bool</span> <i>enabled</i>)</h3>
<p>Sets whether animations are <i translate="no">enabled</i> for this state machine.</p>
<div class="admonition note"><p><b>Note: </b>Setter function for property <a href="qstatemachine.html#animated-prop" translate="no">animated</a>. </p>
</div><p><b>See also </b><a href="qstatemachine.html#isAnimated" translate="no">isAnimated</a>().</p>
<!-- @@@setAnimated -->
<!-- $$$setGlobalRestorePolicy -->
<h3 class="fn" translate="no" id="setGlobalRestorePolicy"><span class="type">void</span> QStateMachine::<span class="name">setGlobalRestorePolicy</span>(<span class="type"><a href="qstate.html#RestorePolicy-enum" translate="no">QState::RestorePolicy</a></span> <i>restorePolicy</i>)</h3>
<p>Sets the restore policy of the state machine to <i translate="no">restorePolicy</i>. The default restore policy is <a href="qstate.html#RestorePolicy-enum" translate="no">QState::DontRestoreProperties</a>.</p>
<div class="admonition note"><p><b>Note: </b>Setter function for property <a href="qstatemachine.html#globalRestorePolicy" translate="no">globalRestorePolicy</a>. </p>
</div><p><b>See also </b><a href="qstatemachine.html#globalRestorePolicy" translate="no">globalRestorePolicy</a>().</p>
<!-- @@@setGlobalRestorePolicy -->
<!-- $$$start[overload1]$$$start -->
<h3 class="fn" translate="no" id="start"><code translate="no">[slot] </code><span class="type">void</span> QStateMachine::<span class="name">start</span>()</h3>
<p>Starts this state machine. The machine will reset its configuration and transition to the initial state. When a final top-level state (<a href="qfinalstate.html" translate="no">QFinalState</a>) is entered, the machine will emit the <a href="qstate.html#finished" translate="no">finished</a>() signal.</p>
<div class="admonition note">
<p><b>Note: </b>A state machine will not run without a running event loop, such as the main application event loop started with <a href="../qtcore/qcoreapplication.html#exec" translate="no">QCoreApplication::exec</a>() or <a href="../qtwidgets/qapplication.html#exec" translate="no">QApplication::exec</a>().</p>
</div>
<p><b>See also </b><a href="qstatemachine.html#started" translate="no">started</a>(), <a href="qstate.html#finished" translate="no">finished</a>(), <a href="qstatemachine.html#stop" translate="no">stop</a>(), <a href="qstate.html#initialState" translate="no">initialState</a>(), and <a href="qstatemachine.html#running-prop" translate="no">setRunning</a>().</p>
<!-- @@@start -->
<!-- $$$started[overload1]$$$started -->
<h3 class="fn" translate="no" id="started"><code translate="no">[private signal] </code><span class="type">void</span> QStateMachine::<span class="name">started</span>()</h3>
<p>This signal is emitted when the state machine has entered its initial state (QStateMachine::initialState).</p>
<div class="admonition note"><p><b>Note: </b>This is a private signal. It can be used in signal connections but cannot be emitted by the user.</p>
</div><p><b>See also </b><a href="qstate.html#finished" translate="no">QStateMachine::finished</a>() and <a href="qstatemachine.html#start" translate="no">QStateMachine::start</a>().</p>
<!-- @@@started -->
<!-- $$$stop[overload1]$$$stop -->
<h3 class="fn" translate="no" id="stop"><code translate="no">[slot] </code><span class="type">void</span> QStateMachine::<span class="name">stop</span>()</h3>
<p>Stops this state machine. The state machine will stop processing events and then emit the <a href="qstatemachine.html#stopped" translate="no">stopped</a>() signal.</p>
<p><b>See also </b><a href="qstatemachine.html#stopped" translate="no">stopped</a>(), <a href="qstatemachine.html#start" translate="no">start</a>(), and <a href="qstatemachine.html#running-prop" translate="no">setRunning</a>().</p>
<!-- @@@stop -->
<!-- $$$stopped[overload1]$$$stopped -->
<h3 class="fn" translate="no" id="stopped"><code translate="no">[private signal] </code><span class="type">void</span> QStateMachine::<span class="name">stopped</span>()</h3>
<p>This signal is emitted when the state machine has stopped.</p>
<div class="admonition note"><p><b>Note: </b>This is a private signal. It can be used in signal connections but cannot be emitted by the user.</p>
</div><p><b>See also </b><a href="qstatemachine.html#stop" translate="no">QStateMachine::stop</a>() and <a href="qstate.html#finished" translate="no">QStateMachine::finished</a>().</p>
<!-- @@@stopped -->
</div>
        </div>
       </div>
   </div>
   </div>
</div>
<div class="footer">
   <p>
   <acronym title="Copyright">&copy;</acronym> 2023 The Qt Company Ltd.
   Documentation contributions included herein are the copyrights of
   their respective owners.<br/>    The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the Free Software Foundation.<br/>    Qt and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of The Qt Company Ltd. in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>
</div>
</body>
</html>
