<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
<!-- qt6-changes.qdoc -->
  <meta name="description" content="Migrate Qt TextToSpeech to Qt 6.">
  <title>Changes to Qt TextToSpeech | Qt TextToSpeech 6.6.0</title>
  <link rel="stylesheet" type="text/css" href="style/offline-simple.css" />
  <script type="text/javascript">
    document.getElementsByTagName("link").item(0).setAttribute("href", "style/offline.css");
    // loading style sheet breaks anchors that were jumped to before
    // so force jumping to anchor again
    setTimeout(function() {
        var anchor = location.hash;
        // need to jump to different anchor first (e.g. none)
        location.hash = "#";
        setTimeout(function() {
            location.hash = anchor;
        }, 0);
    }, 0);
  </script>
</head>
<body>
<div class="header" id="qtdocheader">
    <div class="main">
    <div class="main-rounded">
        <div class="navigationbar">
        <ul>
<li><a href="../qtdoc/index.html" translate="no">Qt 6.6</a></li>
<li><a href="qttexttospeech-index.html" translate="no">Qt TextToSpeech</a></li>
<li>Changes to Qt TextToSpeech</li>
<li id="buildversion"><a href="qttexttospeech-index.html" translate="no">Qt 6.6&#x2e;0 Reference Documentation</a></li>
    </ul>
    </div>
</div>
<div class="content">
<div class="line">
<div class="content mainContent">
<div class="sidebar">
<div class="toc">
<h3 id="toc">Contents</h3>
<ul>
<li class="level1"><a href="#available-engines">Available Engines</a></li>
<li class="level1"><a href="#api-changes">API changes</a></li>
<li class="level2"><a href="#the-qtexttospeech-class">The QTextToSpeech class</a></li>
<li class="level2"><a href="#the-qvoice-class">The QVoice class</a></li>
<li class="level2"><a href="#the-qtexttospeechengine-and-qtexttospeechplugin-classes">The QTextToSpeechEngine and QTextToSpeechPlugin classes</a></li>
</ul>
</div>
<div class="sidebar-content" id="sidebar-content"></div></div>
<h1 class="title">Changes to Qt TextToSpeech</h1>
<!-- $$$qttexttospeech-changes-qt6.html-description -->
<div class="descr" id="details">
<p>Qt 6 is a result of the conscious effort to make the framework more efficient and easy to use.</p>
<p>We try to maintain binary and source compatibility for all the public APIs in each release. But some changes were inevitable in an effort to make Qt a better framework.</p>
<p>In this topic we summarize those changes in <a href="qttexttospeech-index.html" translate="no">Qt TextToSpeech</a>, and provide guidance to handle them.</p>
<h2 id="available-engines">Available Engines</h2>
<p>All engines that were available in Qt 5 are also available in Qt 6.4&#x2e; For a complete list of available engines in Qt 6.4, see <a href="qttexttospeech-engines.html" translate="no">Qt TextToSpeech Engines</a>.</p>
<p>Engines can now receive additional configuration parameters. When constructing a <a href="qtexttospeech.html" translate="no">QTextToSpeech</a> instance, pass a <a href="../qtcore/qvariant.html#QVariantMap-typedef" translate="no">QVariantMap</a> with engine-specific key/value pairs.</p>
<h2 id="api-changes">API changes</h2>
<p>The <a href="qttexttospeech-index.html" translate="no">Qt TextToSpeech</a> module has undergone some basic consolidation and cleanup. There should be minimal porting effort to be able to switch to Qt 6.</p>
<h3 id="the-qtexttospeech-class">The QTextToSpeech class</h3>
<p>The <a href="qtexttospeech.html#State-enum" translate="no">QTextToSpeech::State</a> enum value <code translate="no">BackendError</code> has been renamed to <code translate="no">Error</code>. Detailed error information is available via <a href="qtexttospeech.html#errorReason" translate="no">QTextToSpeech::errorReason</a>() and <a href="qtexttospeech.html#errorString" translate="no">QTextToSpeech::errorString</a>().</p>
<p>The new <a href="qtexttospeech.html#engine-prop" translate="no">engine</a> property allows changing of the engine on an initialized <a href="qtexttospeech.html" translate="no">QTextToSpeech</a> object.</p>
<p>The <a href="qtexttospeech.html#pause" translate="no">pause</a> and <a href="qtexttospeech.html#stop" translate="no">QTextToSpeech::stop</a> slots take a <a href="qtexttospeech.html#BoundaryHint-enum" translate="no">QTextToSpeech::BoundaryHint</a> enum value. This will break the compilation for signal/slot connections that use PMF syntax if the signal has parameters that were previously ignored:</p>
<pre class="cpp plain" translate="no">
 connect(stopButton, &amp;QPushButton, tts, &amp;QTextToSpeech::stop);
</pre>
<p>Either connect to a signal without parameters, or use a lambda and call the respective slot method explicitly:</p>
<pre class="cpp" translate="no">
 connect(stopButton<span class="operator">,</span> <span class="operator">&amp;</span><span class="type"><a href="../qtwidgets/qpushbutton.html" translate="no">QPushButton</a></span><span class="operator">,</span> tts<span class="operator">,</span> <span class="operator">[</span>tts<span class="operator">]</span>{ tts<span class="operator">-</span><span class="operator">&gt;</span>stop(); });
</pre>
<h3 id="the-qvoice-class">The QVoice class</h3>
<p>Existing code using the <a href="qvoice.html" translate="no">QVoice</a> class continues to work as before. <a href="qvoice.html" translate="no">QVoice</a> objects can now be serialized via <a href="../qtcore/qdatastream.html" translate="no">QDataStream</a>.</p>
<h3 id="the-qtexttospeechengine-and-qtexttospeechplugin-classes">The QTextToSpeechEngine and QTextToSpeechPlugin classes</h3>
<p>These classes have been removed from the public API. They still exist and are used by the available engine implementations, but they are not part of the documented and supported API, and are likely to change in future releases.</p>
</div>
<!-- @@@qttexttospeech-changes-qt6.html -->
        </div>
       </div>
   </div>
   </div>
</div>
<div class="footer">
   <p>
   <acronym title="Copyright">&copy;</acronym> 2023 The Qt Company Ltd.
   Documentation contributions included herein are the copyrights of
   their respective owners.<br/>    The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the Free Software Foundation.<br/>    Qt and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of The Qt Company Ltd. in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>
</div>
</body>
</html>
