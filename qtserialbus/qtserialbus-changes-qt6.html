<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
<!-- qt6-changes.qdoc -->
  <meta name="description" content="Migrate Qt SerialBus to Qt 6.">
  <title>Changes to Qt SerialBus | Qt Serial Bus 6.6.2</title>
  <link rel="stylesheet" type="text/css" href="style/offline-simple.css" />
  <script type="text/javascript">
    document.getElementsByTagName("link").item(0).setAttribute("href", "style/offline.css");
    // loading style sheet breaks anchors that were jumped to before
    // so force jumping to anchor again
    setTimeout(function() {
        var anchor = location.hash;
        // need to jump to different anchor first (e.g. none)
        location.hash = "#";
        setTimeout(function() {
            location.hash = anchor;
        }, 0);
    }, 0);
  </script>
</head>
<body>
<div class="header" id="qtdocheader">
    <div class="main">
    <div class="main-rounded">
        <div class="navigationbar">
        <ul>
<li><a href="../qtdoc/index.html" translate="no">Qt 6.6</a></li>
<li><a href="qtserialbus-index.html" translate="no">Qt Serial Bus</a></li>
<li>Changes to Qt SerialBus</li>
<li id="buildversion"><a href="qtserialbus-index.html" translate="no">Qt 6.6.2 Reference Documentation</a></li>
    </ul>
    </div>
</div>
<div class="content">
<div class="line">
<div class="content mainContent">
<div class="sidebar">
<div class="toc">
<h3 id="toc">Contents</h3>
<ul>
<li class="level1"><a href="#changes-overview">Changes overview</a></li>
<li class="level1"><a href="#build-system">Build system</a></li>
<li class="level1"><a href="#api-changes">API changes</a></li>
<li class="level2"><a href="#qt-can-bus">Qt CAN bus</a></li>
<li class="level2"><a href="#qt-modbus">Qt Modbus</a></li>
</ul>
</div>
<div class="sidebar-content" id="sidebar-content"></div></div>
<h1 class="title">Changes to Qt SerialBus</h1>
<!-- $$$qtserialbus-changes-qt6.html-description -->
<div class="descr" id="details">
<p>Qt 6 is a result of the conscious effort to make the framework more efficient and easy to use. We try to maintain binary and source compatibility for all the public APIs in each release. But some changes were inevitable in an effort to make Qt a better framework. In this topic, we summarize those changes in Qt SerialBus module and provide guidance to handle them.</p>
<h2 id="changes-overview">Changes overview</h2>
<p>The Qt SerialBus module is generally speaking source compatible with the Qt 5 version and users of the library should be able to continue with no or minor changes to their project.</p>
<h2 id="build-system">Build system</h2>
<p>As with Qt 6 in general, the Qt SerialBus module has CMake support in addition to qmake.</p>
<h2 id="api-changes">API changes</h2>
<h3 id="qt-can-bus">Qt CAN bus</h3>
<h4 id="removal-of-qcanbusfactoryv2">Removal of QCanBusFactoryV2</h4>
<p>In Qt 6 the QCanBusFactoryV2 has been removed and is no longer part of the public API. Instead <a href="qcanbusfactory.html" translate="no">QCanBusFactory</a> has gained the additional method <a href="qcanbusfactory.html#availableDevices" translate="no">QCanBusFactory::availableDevices</a> that needs to be implemented by sub-classes of <a href="qcanbusfactory.html" translate="no">QCanBusFactory</a>.</p>
<h4 id="changes-to-qcanbusdevice">Changes to QCanBusDevice</h4>
<p><a href="qcanbusdevice.html" translate="no">QCanBusDevice</a> got the following changes:</p>
<ul>
<li>setConfigurationParameter() and configurationParameter() now use the distinct type ConfigurationKey instead int.</li>
<li>The functions resetController(), hasBusStatus() and busStatus() are now virtual functions. They have been internal callbacks in Qt 5 due to binary compatibility.</li>
<li>Custom plugins using one of the private API function QCanBusDevice::createDeviceInfo() need small adoptions as these functions now have the <code translate="no">plugin</code> name as first parameter and slighly adopted parameter lists.</li>
</ul>
<h4 id="changes-to-qcanbusframe">Changes to QCanBusFrame</h4>
<p><a href="qcanbusframe.html" translate="no">QCanBusFrame</a> now uses the distinct type <code translate="no">FrameId</code>, which is a typedef to quint32, so existing code should still work. Anyway, it is recommended to use <code translate="no">FrameId</code> when upgrading.</p>
<h3 id="qt-modbus">Qt Modbus</h3>
<h4 id="renaming-of-qmodbusrtuserialmaster-and-qmodbusrtuserialslave">Renaming of QModbusRtuSerialMaster and QModbusRtuSerialSlave</h4>
<p>Following the recommendation of the Modbus organization the class <code translate="no">QModbusRtuSerialMaster</code> has been renamed to <a href="qmodbusrtuserialclient.html" translate="no">QModbusRtuSerialClient</a> and the class <code translate="no">QModbusRtuSerialSlave</code> has been renamed to <a href="qmodbusrtuserialserver.html" translate="no">QModbusRtuSerialServer</a>. It is advised to use the new class names in new or ported code to adhere to the Modbus naming scheme.</p>
</div>
<!-- @@@qtserialbus-changes-qt6.html -->
        </div>
       </div>
   </div>
   </div>
</div>
<div class="footer">
   <p>
   <acronym title="Copyright">&copy;</acronym> 2024 <span translate="no">The Qt Company Ltd.</span>
   Documentation contributions included herein are the copyrights of
   their respective owners.<br/>    The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the <span translate="no">Free Software Foundation</span>.<br/>    <span translate="no">Qt</span> and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of <span translate="no">The Qt Company Ltd.</span> in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>
</div>
</body>
</html>
