<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
<!-- qmodbusdevice.cpp -->
  <meta name="description" content="The QModbusDevice class is the base class for Modbus classes, QModbusServer and QModbusClient.">
  <title>QModbusDevice Class | Qt Serial Bus 6.6.0</title>
  <link rel="stylesheet" type="text/css" href="style/offline-simple.css" />
  <script type="text/javascript">
    document.getElementsByTagName("link").item(0).setAttribute("href", "style/offline.css");
    // loading style sheet breaks anchors that were jumped to before
    // so force jumping to anchor again
    setTimeout(function() {
        var anchor = location.hash;
        // need to jump to different anchor first (e.g. none)
        location.hash = "#";
        setTimeout(function() {
            location.hash = anchor;
        }, 0);
    }, 0);
  </script>
</head>
<body>
<div class="header" id="qtdocheader">
    <div class="main">
    <div class="main-rounded">
        <div class="navigationbar">
        <ul>
<li><a href="../qtdoc/index.html" translate="no">Qt 6.6</a></li>
<li><a href="qtserialbus-index.html" translate="no">Qt Serial Bus</a></li>
<li><a href="qtserialbus-module.html" translate="no">C++ Classes</a></li>
<li>QModbusDevice</li>
<li id="buildversion"><a href="qtserialbus-index.html" translate="no">Qt 6.6&#x2e;0 Reference Documentation</a></li>
    </ul>
    </div>
</div>
<div class="content">
<div class="line">
<div class="content mainContent">
<div class="sidebar">
<div class="toc">
<h3 id="toc">Contents</h3>
<ul>
<li class="level1"><a href="#public-types">Public Types</a></li>
<li class="level1"><a href="#public-functions">Public Functions</a></li>
<li class="level1"><a href="#signals">Signals</a></li>
<li class="level1"><a href="#protected-functions">Protected Functions</a></li>
<li class="level1"><a href="#details">Detailed Description</a></li>
</ul>
</div>
<div class="sidebar-content" id="sidebar-content"></div></div>
<h1 class="title" translate="no">QModbusDevice Class</h1>
<!-- $$$QModbusDevice-brief -->
<p>The QModbusDevice class is the base class for Modbus classes, <a href="qmodbusserver.html" translate="no">QModbusServer</a> and <a href="qmodbusclient.html" translate="no">QModbusClient</a>. <a href="#details">More...</a></p>
<!-- @@@QModbusDevice -->
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> Header:</td><td class="memItemRight bottomAlign">  <span class="preprocessor">#include &lt;QModbusDevice&gt;</span></td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> CMake:</td><td class="memItemRight bottomAlign"> find_package(Qt6 REQUIRED COMPONENTS SerialBus) <br/>
target_link_libraries(mytarget PRIVATE Qt6::SerialBus)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> qmake:</td><td class="memItemRight bottomAlign"> QT += serialbus</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> Inherits:</td><td class="memItemRight bottomAlign"> <a href="../qtcore/qobject.html" translate="no">QObject</a></td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> Inherited By:</td><td class="memItemRight bottomAlign"> <p><a href="qmodbusclient.html" translate="no">QModbusClient</a> and <a href="qmodbusserver.html" translate="no">QModbusServer</a></p>
</td></tr>
</table></div>
<ul>
<li><a href="qmodbusdevice-members.html">List of all members, including inherited members</a></li>
</ul>
<h2 id="public-types">Public Types</h2>
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> enum </td><td class="memItemRight bottomAlign"><b><a href="qmodbusdevice.html#ConnectionParameter-enum" translate="no">ConnectionParameter</a></b> { SerialPortNameParameter, SerialParityParameter, SerialBaudRateParameter, SerialDataBitsParameter, SerialStopBitsParameter, &hellip;, NetworkAddressParameter }</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> enum </td><td class="memItemRight bottomAlign"><b><a href="qmodbusdevice.html#Error-enum" translate="no">Error</a></b> { NoError, ReadError, WriteError, ConnectionError, ConfigurationError, &hellip;, InvalidResponseError }</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> enum </td><td class="memItemRight bottomAlign"><b><a href="qmodbusdevice.html#IntermediateError-enum" translate="no">IntermediateError</a></b> { ResponseCrcError, ResponseRequestMismatch }</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> enum </td><td class="memItemRight bottomAlign"><b><a href="qmodbusdevice.html#State-enum" translate="no">State</a></b> { UnconnectedState, ConnectingState, ConnectedState, ClosingState }</td></tr>
</table></div>
<h2 id="public-functions">Public Functions</h2>
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qmodbusdevice.html#QModbusDevice" translate="no">QModbusDevice</a></b>(QObject *<i>parent</i> = nullptr)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual </td><td class="memItemRight bottomAlign"><b><a href="qmodbusdevice.html#dtor.QModbusDevice" translate="no">~QModbusDevice</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qmodbusdevice.html#connectDevice" translate="no">connectDevice</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QVariant </td><td class="memItemRight bottomAlign"><b><a href="qmodbusdevice.html#connectionParameter" translate="no">connectionParameter</a></b>(ConnectionParameter <i>parameter</i>) const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QIODevice *</td><td class="memItemRight bottomAlign"><b><a href="qmodbusdevice.html#device" translate="no">device</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qmodbusdevice.html#disconnectDevice" translate="no">disconnectDevice</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> Error </td><td class="memItemRight bottomAlign"><b><a href="qmodbusdevice.html#error" translate="no">error</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QString </td><td class="memItemRight bottomAlign"><b><a href="qmodbusdevice.html#errorString" translate="no">errorString</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qmodbusdevice.html#setConnectionParameter" translate="no">setConnectionParameter</a></b>(ConnectionParameter <i>parameter</i>, const QVariant &amp;<i>value</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> State </td><td class="memItemRight bottomAlign"><b><a href="qmodbusdevice.html#state" translate="no">state</a></b>() const</td></tr>
</table></div>
<h2 id="signals">Signals</h2>
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qmodbusdevice.html#errorOccurred" translate="no">errorOccurred</a></b>(QModbusDevice::Error <i>error</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qmodbusdevice.html#stateChanged" translate="no">stateChanged</a></b>(QModbusDevice::State <i>state</i>)</td></tr>
</table></div>
<h2 id="protected-functions">Protected Functions</h2>
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> virtual void </td><td class="memItemRight bottomAlign"><b><a href="qmodbusdevice.html#close" translate="no">close</a></b>() = 0</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual bool </td><td class="memItemRight bottomAlign"><b><a href="qmodbusdevice.html#open" translate="no">open</a></b>() = 0</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qmodbusdevice.html#setError" translate="no">setError</a></b>(const QString &amp;<i>errorText</i>, QModbusDevice::Error <i>error</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qmodbusdevice.html#setState" translate="no">setState</a></b>(QModbusDevice::State <i>newState</i>)</td></tr>
</table></div>
<!-- $$$QModbusDevice-description -->
<div class="descr">
<h2 id="details">Detailed Description</h2>
</div>
<!-- @@@QModbusDevice -->
<div class="types">
<h2>Member Type Documentation</h2>
<!-- $$$ConnectionParameter$$$SerialPortNameParameter$$$SerialParityParameter$$$SerialBaudRateParameter$$$SerialDataBitsParameter$$$SerialStopBitsParameter$$$NetworkPortParameter$$$NetworkAddressParameter -->
<h3 class="fn" translate="no" id="ConnectionParameter-enum">enum QModbusDevice::<span class="name">ConnectionParameter</span></h3>
<p>This enum describes the possible values that can be set for a Modbus device connection.</p>
<p>The general purpose value (and the associated types) are:</p>
<div class="table"><table class="valuelist"><tr valign="top" class="odd"><th class="tblConst">Constant</th><th class="tblval">Value</th><th class="tbldscr">Description</th></tr>
<tr><td class="topAlign"><code translate="no">QModbusDevice::SerialPortNameParameter</code></td><td class="topAlign tblval"><code translate="no">0</code></td><td class="topAlign">This parameter holds the serial port used for device communication, e.g&#x2e; COM1. <code translate="no">QString</code></td></tr>
<tr><td class="topAlign"><code translate="no">QModbusDevice::SerialParityParameter</code></td><td class="topAlign tblval"><code translate="no">1</code></td><td class="topAlign">This parameter holds the parity checking mode. <code translate="no">QSerialPort::Parity</code></td></tr>
<tr><td class="topAlign"><code translate="no">QModbusDevice::SerialBaudRateParameter</code></td><td class="topAlign tblval"><code translate="no">2</code></td><td class="topAlign">This parameter holds the data baud rate for the communication. <code translate="no">QSerialPort::BaudRate</code></td></tr>
<tr><td class="topAlign"><code translate="no">QModbusDevice::SerialDataBitsParameter</code></td><td class="topAlign tblval"><code translate="no">3</code></td><td class="topAlign">This parameter holds the data bits in a frame. <code translate="no">QSerialPort::DataBits</code></td></tr>
<tr><td class="topAlign"><code translate="no">QModbusDevice::SerialStopBitsParameter</code></td><td class="topAlign tblval"><code translate="no">4</code></td><td class="topAlign">This parameter holds the number of stop bits in a frame. <code translate="no">QSerialPort::StopBits</code></td></tr>
<tr><td class="topAlign"><code translate="no">QModbusDevice::NetworkPortParameter</code></td><td class="topAlign tblval"><code translate="no">5</code></td><td class="topAlign">This parameter holds the network port. <code translate="no">int</code></td></tr>
<tr><td class="topAlign"><code translate="no">QModbusDevice::NetworkAddressParameter</code></td><td class="topAlign tblval"><code translate="no">6</code></td><td class="topAlign">This parameter holds the host address for network communication. <code translate="no">QString</code></td></tr>
</table></div>
<!-- @@@ConnectionParameter -->
<!-- $$$Error$$$NoError$$$ReadError$$$WriteError$$$ConnectionError$$$ConfigurationError$$$TimeoutError$$$ProtocolError$$$ReplyAbortedError$$$UnknownError$$$InvalidResponseError -->
<h3 class="fn" translate="no" id="Error-enum">enum QModbusDevice::<span class="name">Error</span></h3>
<p>This enum describes all the possible error conditions.</p>
<div class="table"><table class="valuelist"><tr valign="top" class="odd"><th class="tblConst">Constant</th><th class="tblval">Value</th><th class="tbldscr">Description</th></tr>
<tr><td class="topAlign"><code translate="no">QModbusDevice::NoError</code></td><td class="topAlign tblval"><code translate="no">0</code></td><td class="topAlign">No errors have occurred.</td></tr>
<tr><td class="topAlign"><code translate="no">QModbusDevice::ReadError</code></td><td class="topAlign tblval"><code translate="no">1</code></td><td class="topAlign">An error occurred during a read operation.</td></tr>
<tr><td class="topAlign"><code translate="no">QModbusDevice::WriteError</code></td><td class="topAlign tblval"><code translate="no">2</code></td><td class="topAlign">An error occurred during a write operation.</td></tr>
<tr><td class="topAlign"><code translate="no">QModbusDevice::ConnectionError</code></td><td class="topAlign tblval"><code translate="no">3</code></td><td class="topAlign">An error occurred when attempting to open the backend.</td></tr>
<tr><td class="topAlign"><code translate="no">QModbusDevice::ConfigurationError</code></td><td class="topAlign tblval"><code translate="no">4</code></td><td class="topAlign">An error occurred when attempting to set a configuration parameter.</td></tr>
<tr><td class="topAlign"><code translate="no">QModbusDevice::TimeoutError</code></td><td class="topAlign tblval"><code translate="no">5</code></td><td class="topAlign">A timeout occurred during I/O. An I/O operation did not finish within a given time frame.</td></tr>
<tr><td class="topAlign"><code translate="no">QModbusDevice::ProtocolError</code></td><td class="topAlign tblval"><code translate="no">6</code></td><td class="topAlign">A Modbus specific protocol error occurred.</td></tr>
<tr><td class="topAlign"><code translate="no">QModbusDevice::ReplyAbortedError</code></td><td class="topAlign tblval"><code translate="no">7</code></td><td class="topAlign">The reply was aborted due to a disconnection of the device.</td></tr>
<tr><td class="topAlign"><code translate="no">QModbusDevice::UnknownError</code></td><td class="topAlign tblval"><code translate="no">8</code></td><td class="topAlign">An unknown error occurred.</td></tr>
<tr><td class="topAlign"><code translate="no">QModbusDevice::InvalidResponseError (since Qt 6.4)</code></td><td class="topAlign tblval"><code translate="no">9</code></td><td class="topAlign">An error occurred while parsing the response, or the <a href="qmodbuspdu.html#FunctionCode-enum" translate="no">FunctionCode</a> is not supported by the current implementation. In the latter case custom Modbus client implementation can override the <a href="qmodbusclient.html#processResponse" translate="no">processResponse</a>() and <a href="qmodbusclient.html#processPrivateResponse" translate="no">processPrivateResponse</a>() methods to provide support for needed functions.</td></tr>
</table></div>
<!-- @@@Error -->
<!-- $$$IntermediateError$$$ResponseCrcError$$$ResponseRequestMismatch -->
<h3 class="fn" translate="no" id="IntermediateError-enum"><code translate="no">[since 6.0] </code>enum QModbusDevice::<span class="name">IntermediateError</span></h3>
<p>This enum describes possible errors that can happen during a full send and receive cycle for a Modbus reply.</p>
<div class="table"><table class="valuelist"><tr valign="top" class="odd"><th class="tblConst">Constant</th><th class="tblval">Value</th><th class="tbldscr">Description</th></tr>
<tr><td class="topAlign"><code translate="no">QModbusDevice::ResponseCrcError</code></td><td class="topAlign tblval"><code translate="no">0</code></td><td class="topAlign">A Modbus response with a wrong CRC was received.</td></tr>
<tr><td class="topAlign"><code translate="no">QModbusDevice::ResponseRequestMismatch</code></td><td class="topAlign tblval"><code translate="no">1</code></td><td class="topAlign">A Modbus response was received but did not match the open request, probably due to the PDU's function code not matching.</td></tr>
</table></div>
<p>If any of the above intermediate errors occurred, the frame is likely resent until the maximum number of retries has been reached.</p>
<p>The list of intermediate errors can be inspected from the <a href="qmodbusreply.html" translate="no">QModbusReply</a> intermediate errors function.</p>
<p>This enum was introduced in Qt 6.0.</p>
<p><b>See also </b><a href="qmodbusclient.html#numberOfRetries" translate="no">QModbusClient::numberOfRetries</a>() and <a href="qmodbusreply.html#intermediateErrors" translate="no">QModbusReply::intermediateErrors</a>().</p>
<!-- @@@IntermediateError -->
<!-- $$$State$$$UnconnectedState$$$ConnectingState$$$ConnectedState$$$ClosingState -->
<h3 class="fn" translate="no" id="State-enum">enum QModbusDevice::<span class="name">State</span></h3>
<p>This enum describes all possible device states.</p>
<div class="table"><table class="valuelist"><tr valign="top" class="odd"><th class="tblConst">Constant</th><th class="tblval">Value</th><th class="tbldscr">Description</th></tr>
<tr><td class="topAlign"><code translate="no">QModbusDevice::UnconnectedState</code></td><td class="topAlign tblval"><code translate="no">0</code></td><td class="topAlign">The device is disconnected.</td></tr>
<tr><td class="topAlign"><code translate="no">QModbusDevice::ConnectingState</code></td><td class="topAlign tblval"><code translate="no">1</code></td><td class="topAlign">The device is being connected.</td></tr>
<tr><td class="topAlign"><code translate="no">QModbusDevice::ConnectedState</code></td><td class="topAlign tblval"><code translate="no">2</code></td><td class="topAlign">The device is connected to the Modbus network.</td></tr>
<tr><td class="topAlign"><code translate="no">QModbusDevice::ClosingState</code></td><td class="topAlign tblval"><code translate="no">3</code></td><td class="topAlign">The device is being closed.</td></tr>
</table></div>
<!-- @@@State -->
</div>
<div class="func">
<h2>Member Function Documentation</h2>
<!-- $$$QModbusDevice[overload1]$$$QModbusDeviceQObject* -->
<h3 class="fn" translate="no" id="QModbusDevice"><code translate="no">[explicit] </code>QModbusDevice::<span class="name">QModbusDevice</span>(<span class="type"><a href="../qtcore/qobject.html#QObject" translate="no">QObject</a></span> *<i>parent</i> = nullptr)</h3>
<p>Constructs a Modbus device with the specified <i translate="no">parent</i>.</p>
<!-- @@@QModbusDevice -->
<!-- $$$~QModbusDevice[overload1]$$$~QModbusDevice -->
<h3 class="fn" translate="no" id="dtor.QModbusDevice"><code translate="no">[virtual noexcept] </code>QModbusDevice::<span class="name">~QModbusDevice</span>()</h3>
<p>Destroys the <a href="qmodbusdevice.html" translate="no">QModbusDevice</a> instance</p>
<!-- @@@~QModbusDevice -->
<!-- $$$close[overload1]$$$close -->
<h3 class="fn" translate="no" id="close"><code translate="no">[pure virtual protected] </code><span class="type">void</span> QModbusDevice::<span class="name">close</span>()</h3>
<p>This function is responsible for closing the Modbus connection. The implementation must ensure that the instance's <a href="qmodbusdevice.html#state" translate="no">state</a>() is set to <a href="qmodbusdevice.html#State-enum" translate="no">QModbusDevice::UnconnectedState</a>.</p>
<p><b>See also </b><a href="qmodbusdevice.html#disconnectDevice" translate="no">disconnectDevice</a>().</p>
<!-- @@@close -->
<!-- $$$connectDevice[overload1]$$$connectDevice -->
<h3 class="fn" translate="no" id="connectDevice"><span class="type">bool</span> QModbusDevice::<span class="name">connectDevice</span>()</h3>
<p>Connects the device to the Modbus network. Returns <code translate="no">true</code> if the connection process was successfully initiated; otherwise <code translate="no">false</code>. Final connection success confirmation requires the <a href="qmodbusdevice.html#state" translate="no">state</a>() changing to <a href="qmodbusdevice.html#State-enum" translate="no">QModbusDevice::ConnectedState</a>.</p>
<p>This function calls <a href="qmodbusdevice.html#open" translate="no">open</a>() as part of its implementation.</p>
<p><b>See also </b><a href="qmodbusdevice.html#open" translate="no">open</a>().</p>
<!-- @@@connectDevice -->
<!-- $$$connectionParameter[overload1]$$$connectionParameterConnectionParameter -->
<h3 class="fn" translate="no" id="connectionParameter"><span class="type"><a href="../qtcore/qvariant.html" translate="no">QVariant</a></span> QModbusDevice::<span class="name">connectionParameter</span>(<span class="type"><a href="qmodbusdevice.html#ConnectionParameter-enum" translate="no">ConnectionParameter</a></span> <i>parameter</i>) const</h3>
<p>Returns the value associated with the given connection <i translate="no">parameter</i>. The returned value can be empty.</p>
<p>By default the <code translate="no">QModbusDevice</code> is initialized with some common values. The serial port settings are even parity, a baud rate of 19200 bits per second, eight data bits and one stop bit. The network settings for the host address is set to local host and port to 502.</p>
<div class="admonition note">
<p><b>Note: </b>For a serial connection to succeed, the <a href="qmodbusdevice.html#ConnectionParameter-enum" translate="no">SerialPortNameParameter</a> needs to be set to a valid communication port. The information about valid serial ports can be obtained from <a href="../qtserialport/qserialportinfo.html" translate="no">QSerialPortInfo</a>.</p>
</div>
<div class="admonition note">
<p><b>Note: </b>If the device is already connected, the settings are taken into account after reconnecting the device.</p>
</div>
<p><b>See also </b><a href="qmodbusdevice.html#setConnectionParameter" translate="no">setConnectionParameter</a>() and <a href="qmodbusdevice.html#ConnectionParameter-enum" translate="no">ConnectionParameter</a>.</p>
<!-- @@@connectionParameter -->
<!-- $$$device[overload1]$$$device -->
<h3 class="fn" translate="no" id="device"><span class="type"><a href="../qtcore/qiodevice.html" translate="no">QIODevice</a></span> *QModbusDevice::<span class="name">device</span>() const</h3>
<p>Returns the underlying <a href="../qtcore/qiodevice.html" translate="no">QIODevice</a> used for ModBus communication or <code translate="no">nullptr</code> if the device was not yet fully initialized.</p>
<div class="admonition note">
<p><b>Note: </b>Do not store a pointer to the underlying device, because it can be invalidated at any point in time.</p>
</div>
<!-- @@@device -->
<!-- $$$disconnectDevice[overload1]$$$disconnectDevice -->
<h3 class="fn" translate="no" id="disconnectDevice"><span class="type">void</span> QModbusDevice::<span class="name">disconnectDevice</span>()</h3>
<p>Disconnects the device.</p>
<p>This function calls <a href="qmodbusdevice.html#close" translate="no">close</a>() as part of its implementation.</p>
<!-- @@@disconnectDevice -->
<!-- $$$error[overload1]$$$error -->
<h3 class="fn" translate="no" id="error"><span class="type"><a href="qmodbusdevice.html#Error-enum" translate="no">Error</a></span> QModbusDevice::<span class="name">error</span>() const</h3>
<p>Returns the error state of the device.</p>
<p><b>See also </b><a href="qmodbusdevice.html#setError" translate="no">setError</a>() and <a href="qmodbusdevice.html#Error-enum" translate="no">QModbusDevice::Error</a>.</p>
<!-- @@@error -->
<!-- $$$errorOccurred[overload1]$$$errorOccurredQModbusDevice::Error -->
<h3 class="fn" translate="no" id="errorOccurred"><code translate="no">[signal] </code><span class="type">void</span> QModbusDevice::<span class="name">errorOccurred</span>(<span class="type"><a href="qmodbusdevice.html#Error-enum" translate="no">QModbusDevice::Error</a></span> <i>error</i>)</h3>
<p>This signal is emitted when an error of the type, <i translate="no">error</i>, occurs.</p>
<!-- @@@errorOccurred -->
<!-- $$$errorString[overload1]$$$errorString -->
<h3 class="fn" translate="no" id="errorString"><span class="type"><a href="../qtcore/qstring.html" translate="no">QString</a></span> QModbusDevice::<span class="name">errorString</span>() const</h3>
<p>Returns descriptive error text for the device error.</p>
<p><b>See also </b><a href="qmodbusdevice.html#Error-enum" translate="no">QModbusDevice::Error</a>.</p>
<!-- @@@errorString -->
<!-- $$$open[overload1]$$$open -->
<h3 class="fn" translate="no" id="open"><code translate="no">[pure virtual protected] </code><span class="type">bool</span> QModbusDevice::<span class="name">open</span>()</h3>
<p>This function is called by <a href="qmodbusdevice.html#connectDevice" translate="no">connectDevice</a>(). Subclasses must provide an implementation that returns <code translate="no">true</code> on successful Modbus connection or connection initiation; otherwise returns <code translate="no">false</code>.</p>
<p>The implementation must ensure that the instance's <a href="qmodbusdevice.html#state" translate="no">state</a>() is set to <a href="qmodbusdevice.html#State-enum" translate="no">QModbusDevice::ConnectingState</a> or <a href="qmodbusdevice.html#State-enum" translate="no">QModbusDevice::ConnectedState</a> upon success; otherwise <a href="qmodbusdevice.html#State-enum" translate="no">QModbusDevice::UnconnectedState</a>. Typically, <a href="qmodbusdevice.html#State-enum" translate="no">QModbusDevice::ConnectingState</a> is used when the connection process reports back asynchronously and <a href="qmodbusdevice.html#State-enum" translate="no">QModbusDevice::ConnectedState</a> in case of synchronous connect behavior.</p>
<p><b>See also </b><a href="qmodbusdevice.html#connectDevice" translate="no">connectDevice</a>().</p>
<!-- @@@open -->
<!-- $$$setConnectionParameter[overload1]$$$setConnectionParameterConnectionParameterconstQVariant& -->
<h3 class="fn" translate="no" id="setConnectionParameter"><span class="type">void</span> QModbusDevice::<span class="name">setConnectionParameter</span>(<span class="type"><a href="qmodbusdevice.html#ConnectionParameter-enum" translate="no">ConnectionParameter</a></span> <i>parameter</i>, const <span class="type"><a href="../qtcore/qvariant.html" translate="no">QVariant</a></span> &amp;<i>value</i>)</h3>
<p>Sets the value of <i translate="no">parameter</i> to <i translate="no">value</i>. If the <i translate="no">parameter</i> already exists, the previous value is overwritten. A active or running connection is not affected by such parameter changes.</p>
<p><b>See also </b><a href="qmodbusdevice.html#ConnectionParameter-enum" translate="no">ConnectionParameter</a> and <a href="qmodbusdevice.html#connectionParameter" translate="no">connectionParameter</a>().</p>
<!-- @@@setConnectionParameter -->
<!-- $$$setError[overload1]$$$setErrorconstQString&QModbusDevice::Error -->
<h3 class="fn" translate="no" id="setError"><code translate="no">[protected] </code><span class="type">void</span> QModbusDevice::<span class="name">setError</span>(const <span class="type"><a href="../qtcore/qstring.html" translate="no">QString</a></span> &amp;<i>errorText</i>, <span class="type"><a href="qmodbusdevice.html#Error-enum" translate="no">QModbusDevice::Error</a></span> <i>error</i>)</h3>
<p>Sets the error state of the device. ModBus device implementations must use this function in case of an error to set the <i translate="no">error</i> type and a descriptive <i translate="no">errorText</i>.</p>
<p><b>See also </b><a href="qmodbusdevice.html#error" translate="no">error</a>() and <a href="qmodbusdevice.html#Error-enum" translate="no">QModbusDevice::Error</a>.</p>
<!-- @@@setError -->
<!-- $$$setState[overload1]$$$setStateQModbusDevice::State -->
<h3 class="fn" translate="no" id="setState"><code translate="no">[protected] </code><span class="type">void</span> QModbusDevice::<span class="name">setState</span>(<span class="type"><a href="qmodbusdevice.html#State-enum" translate="no">QModbusDevice::State</a></span> <i>newState</i>)</h3>
<p>Sets the state of the device to <i translate="no">newState</i>. Modbus device implementations must use this function to update the device state.</p>
<p><b>See also </b><a href="qmodbusdevice.html#state" translate="no">state</a>().</p>
<!-- @@@setState -->
<!-- $$$state[overload1]$$$state -->
<h3 class="fn" translate="no" id="state"><span class="type"><a href="qmodbusdevice.html#State-enum" translate="no">State</a></span> QModbusDevice::<span class="name">state</span>() const</h3>
<p>Returns the current state of the device.</p>
<p><b>See also </b><a href="qmodbusdevice.html#setState" translate="no">setState</a>() and <a href="qmodbusdevice.html#stateChanged" translate="no">stateChanged</a>().</p>
<!-- @@@state -->
<!-- $$$stateChanged[overload1]$$$stateChangedQModbusDevice::State -->
<h3 class="fn" translate="no" id="stateChanged"><code translate="no">[signal] </code><span class="type">void</span> QModbusDevice::<span class="name">stateChanged</span>(<span class="type"><a href="qmodbusdevice.html#State-enum" translate="no">QModbusDevice::State</a></span> <i>state</i>)</h3>
<p>This signal is emitted every time the state of the device changes. The new state is represented by <i translate="no">state</i>.</p>
<p><b>See also </b><a href="qmodbusdevice.html#setState" translate="no">setState</a>() and <a href="qmodbusdevice.html#state" translate="no">state</a>().</p>
<!-- @@@stateChanged -->
</div>
        </div>
       </div>
   </div>
   </div>
</div>
<div class="footer">
   <p>
   <acronym title="Copyright">&copy;</acronym> 2023 The Qt Company Ltd.
   Documentation contributions included herein are the copyrights of
   their respective owners.<br/>    The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the Free Software Foundation.<br/>    Qt and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of The Qt Company Ltd. in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>
</div>
</body>
</html>
