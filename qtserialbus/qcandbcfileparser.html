<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
<!-- qcandbcfileparser.cpp -->
  <meta name="description" content="The QCanDbcFileParser class can be used to parse DBC files.">
  <title>QCanDbcFileParser Class | Qt Serial Bus 6.6.2</title>
  <link rel="stylesheet" type="text/css" href="style/offline-simple.css" />
  <script type="text/javascript">
    document.getElementsByTagName("link").item(0).setAttribute("href", "style/offline.css");
    // loading style sheet breaks anchors that were jumped to before
    // so force jumping to anchor again
    setTimeout(function() {
        var anchor = location.hash;
        // need to jump to different anchor first (e.g. none)
        location.hash = "#";
        setTimeout(function() {
            location.hash = anchor;
        }, 0);
    }, 0);
  </script>
</head>
<body>
<div class="header" id="qtdocheader">
    <div class="main">
    <div class="main-rounded">
        <div class="navigationbar">
        <ul>
<li><a href="../qtdoc/index.html" translate="no">Qt 6.6</a></li>
<li><a href="qtserialbus-index.html" translate="no">Qt Serial Bus</a></li>
<li><a href="qtserialbus-module.html" translate="no">C++ Classes</a></li>
<li>QCanDbcFileParser</li>
<li id="buildversion"><a href="qtserialbus-index.html" translate="no">Qt 6.6.2 Reference Documentation</a></li>
    </ul>
    </div>
</div>
<div class="content">
<div class="line">
<div class="content mainContent">
<div class="sidebar">
<div class="toc">
<h3 id="toc">Contents</h3>
<ul>
<li class="level1"><a href="#public-types">Public Types</a></li>
<li class="level1"><a href="#public-functions">Public Functions</a></li>
<li class="level1"><a href="#static-public-members">Static Public Members</a></li>
<li class="level1"><a href="#details">Detailed Description</a></li>
<li class="level2"><a href="#supported-keywords">Supported Keywords</a></li>
</ul>
</div>
<div class="sidebar-content" id="sidebar-content"></div></div>
<h1 class="title" translate="no">QCanDbcFileParser Class</h1>
<!-- $$$QCanDbcFileParser-brief -->
<p>The QCanDbcFileParser class can be used to parse DBC files. <a href="#details">More...</a></p>
<!-- @@@QCanDbcFileParser -->
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> Header:</td><td class="memItemRight bottomAlign">  <span class="preprocessor">#include &lt;QCanDbcFileParser&gt;</span></td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> CMake:</td><td class="memItemRight bottomAlign"> find_package(Qt6 REQUIRED COMPONENTS SerialBus) <br/>
target_link_libraries(mytarget PRIVATE Qt6::SerialBus)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> qmake:</td><td class="memItemRight bottomAlign"> QT += serialbus</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> Since:</td><td class="memItemRight bottomAlign"> Qt 6.5</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> Status:</td><td class="memItemRight bottomAlign"> Preliminary<span class="status preliminary"></span></td></tr>
</table></div>
<p><b>This class is under development and is subject to change.</b></p>
<ul>
<li><a href="qcandbcfileparser-members.html">List of all members, including inherited members</a></li>
</ul>
<h2 id="public-types">Public Types</h2>
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> enum class </td><td class="memItemRight bottomAlign"><b><a href="qcandbcfileparser.html#Error-enum" translate="no">Error</a></b> { None, FileReading, Parsing }</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qcandbcfileparser.html#MessageValueDescriptions-typedef" translate="no">MessageValueDescriptions</a></b></td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qcandbcfileparser.html#SignalValueDescriptions-typedef" translate="no">SignalValueDescriptions</a></b></td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qcandbcfileparser.html#ValueDescriptions-typedef" translate="no">ValueDescriptions</a></b></td></tr>
</table></div>
<h2 id="public-functions">Public Functions</h2>
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qcandbcfileparser.html#QCanDbcFileParser" translate="no">QCanDbcFileParser</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qcandbcfileparser.html#dtor.QCanDbcFileParser" translate="no">~QCanDbcFileParser</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> Error </td><td class="memItemRight bottomAlign"><b><a href="qcandbcfileparser.html#error" translate="no">error</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QString </td><td class="memItemRight bottomAlign"><b><a href="qcandbcfileparser.html#errorString" translate="no">errorString</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QList&lt;QCanMessageDescription&gt; </td><td class="memItemRight bottomAlign"><b><a href="qcandbcfileparser.html#messageDescriptions" translate="no">messageDescriptions</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> MessageValueDescriptions </td><td class="memItemRight bottomAlign"><b><a href="qcandbcfileparser.html#messageValueDescriptions" translate="no">messageValueDescriptions</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qcandbcfileparser.html#parse" translate="no">parse</a></b>(const QString &amp;<i>fileName</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qcandbcfileparser.html#parse-1" translate="no">parse</a></b>(const QStringList &amp;<i>fileNames</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QStringList </td><td class="memItemRight bottomAlign"><b><a href="qcandbcfileparser.html#warnings" translate="no">warnings</a></b>() const</td></tr>
</table></div>
<h2 id="static-public-members">Static Public Members</h2>
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> QCanUniqueIdDescription </td><td class="memItemRight bottomAlign"><b><a href="qcandbcfileparser.html#uniqueIdDescription" translate="no">uniqueIdDescription</a></b>()</td></tr>
</table></div>
<!-- $$$QCanDbcFileParser-description -->
<div class="descr">
<h2 id="details">Detailed Description</h2>
<p>A CAN database or CAN DBC file is an ASCII text file that contains information on how to decode and interpret raw CAN bus data. Some more details about the format can be found <a href="https://www.csselectronics.com/pages/can-dbc-file-database-intro" translate="no">here</a> or <a href="https://docs.openvehicles.com/en/stable/components/vehicle_dbc/docs/dbc-primer.html" translate="no">here</a>.</p>
<p>The QCanDbcFileParser class takes the input DBC file, parses it, and provides a list of <a href="qcanmessagedescription.html" translate="no">QCanMessageDescription</a>s as an output. These message descriptions can be forwarded to <a href="qcanframeprocessor.html" translate="no">QCanFrameProcessor</a>, and later used as rules to encode or decode <a href="qcanbusframe.html" translate="no">QCanBusFrame</a>s.</p>
<p>Use one of <a href="qcandbcfileparser.html#parse" translate="no">parse</a>() overloads to specify a file or a list of files that will be processed. Both overloads return <code translate="no">true</code> if the parsing completes successfully and <code translate="no">false</code> otherwise.</p>
<p>Call the <a href="qcandbcfileparser.html#error" translate="no">error</a>() method to get the error which occurred during the parsing. If the parsing completes successfully, this method will return <a href="qcandbcfileparser.html#Error-enum" translate="no">None</a>. Otherwise, you can use an <a href="qcandbcfileparser.html#errorString" translate="no">errorString</a>() method to get the string representation of an error.</p>
<p>During the parsing some non-critical problems may occur as well. Such problems will be logged, but the parsing process will not be aborted. You can use the <a href="qcandbcfileparser.html#warnings" translate="no">warnings</a>() method to get the full list of such problems after the parsing is completed.</p>
<p>If the parsing completes successfully, call <a href="qcandbcfileparser.html#messageDescriptions" translate="no">messageDescriptions</a>() to get a list of the message descriptions that were extracted during the last <a href="qcandbcfileparser.html#parse" translate="no">parse</a>() call. Call <a href="qcandbcfileparser.html#messageValueDescriptions" translate="no">messageValueDescriptions</a>() to get the textual descriptions of signal raw values, if they are available.</p>
<p>Use the static <a href="qcandbcfileparser.html#uniqueIdDescription" translate="no">uniqueIdDescription</a>() function to get a <a href="qcanuniqueiddescription.html" translate="no">QCanUniqueIdDescription</a> for the DBC format.</p>
<pre class="cpp" translate="no">
 <span class="type"><a href="qcandbcfileparser.html#QCanDbcFileParser" translate="no">QCanDbcFileParser</a></span> fileParser;
 <span class="keyword">const</span> <span class="type">bool</span> result <span class="operator">=</span> fileParser<span class="operator">.</span>parse(u<span class="string">&quot;path/to/file.dbc&quot;</span>_s);
 <span class="comment">// Check result, call error() and warnings() if needed</span>

 <span class="comment">// Prepare a QCanFrameProcessor to decode or encode DBC frames</span>
 <span class="type"><a href="qcanframeprocessor.html" translate="no">QCanFrameProcessor</a></span> frameProcessor;
 frameProcessor<span class="operator">.</span>setUniqueIdDescription(<span class="type"><a href="qcandbcfileparser.html#QCanDbcFileParser" translate="no">QCanDbcFileParser</a></span><span class="operator">::</span>uniqueIdDescription());
 frameProcessor<span class="operator">.</span>setMessageDescriptions(fileParser<span class="operator">.</span>messageDescriptions());
</pre>
<div class="admonition note">
<p><b>Note: </b>The parser is stateful, which means that all the results (like extracted message descriptions, error code, or warnings) are reset once the next parsing starts.</p>
</div>
<h4 id="supported-keywords">Supported Keywords</h4>
<p>The current implementation supports only a subset of keywords that you can find in a DBC file:</p>
<ul>
<li><code translate="no">BO_</code> - message description.</li>
<li><code translate="no">SG_</code> - signal description.</li>
<li><code translate="no">SIG_VALTYPE_</code> - signal type description.</li>
<li><code translate="no">SG_MUL_VAL_</code> - extended multiplexing description.</li>
<li><code translate="no">CM_</code> - comments (only for message and signal descriptions).</li>
<li><code translate="no">VAL_</code> - textual descriptions for raw signal values.</li>
</ul>
<p>Lines starting from other keywords are simply ignored.</p>
</div>
<p><b>See also </b><a href="qcanmessagedescription.html" translate="no">QCanMessageDescription</a> and <a href="qcanframeprocessor.html" translate="no">QCanFrameProcessor</a>.</p>
<!-- @@@QCanDbcFileParser -->
<div class="types">
<h2>Member Type Documentation</h2>
<!-- $$$Error$$$None$$$FileReading$$$Parsing -->
<h3 class="fn" translate="no" id="Error-enum">enum class QCanDbcFileParser::<span class="name">Error</span></h3>
<p>This enum represents the possible errors that can happen during the parsing of a DBC file.</p>
<div class="table"><table class="valuelist"><tr valign="top" class="odd"><th class="tblConst">Constant</th><th class="tblval">Value</th><th class="tbldscr">Description</th></tr>
<tr><td class="topAlign"><code translate="no">QCanDbcFileParser::Error::None</code></td><td class="topAlign tblval"><code translate="no">0</code></td><td class="topAlign">No error occurred.</td></tr>
<tr><td class="topAlign"><code translate="no">QCanDbcFileParser::Error::FileReading</code></td><td class="topAlign tblval"><code translate="no">1</code></td><td class="topAlign">An error occurred while opening or reading the file.</td></tr>
<tr><td class="topAlign"><code translate="no">QCanDbcFileParser::Error::Parsing</code></td><td class="topAlign tblval"><code translate="no">2</code></td><td class="topAlign">An error occurred while parsing the content of the file.</td></tr>
</table></div>
<!-- @@@Error -->
<!-- $$$MessageValueDescriptions -->
<h3 class="fn" translate="no" id="MessageValueDescriptions-typedef"><code translate="no">[alias] </code>QCanDbcFileParser::<span class="name">MessageValueDescriptions</span></h3>
<p>This is a type alias for <code translate="no">QHash&lt;QtCanBus::UniqueId, SignalValueDescriptions&gt;</code>.</p>
<p>The keys of the hash represent message unique ids, and the values of the hash contain the corresponding <a href="qcandbcfileparser.html#SignalValueDescriptions-typedef" translate="no">QCanDbcFileParser::SignalValueDescriptions</a> entries.</p>
<p><b>See also </b><a href="qcandbcfileparser.html#SignalValueDescriptions-typedef" translate="no">QCanDbcFileParser::SignalValueDescriptions</a>.</p>
<!-- @@@MessageValueDescriptions -->
<!-- $$$SignalValueDescriptions -->
<h3 class="fn" translate="no" id="SignalValueDescriptions-typedef"><code translate="no">[alias] </code>QCanDbcFileParser::<span class="name">SignalValueDescriptions</span></h3>
<p>This is a type alias for <code translate="no">QHash&lt;QString, ValueDescriptions&gt;</code>.</p>
<p>The keys of the hash represent signal names, and the values of the hash contain the corresponding <a href="qcandbcfileparser.html#ValueDescriptions-typedef" translate="no">QCanDbcFileParser::ValueDescriptions</a> entries.</p>
<p><b>See also </b><a href="qcandbcfileparser.html#ValueDescriptions-typedef" translate="no">QCanDbcFileParser::ValueDescriptions</a>.</p>
<!-- @@@SignalValueDescriptions -->
<!-- $$$ValueDescriptions -->
<h3 class="fn" translate="no" id="ValueDescriptions-typedef"><code translate="no">[alias] </code>QCanDbcFileParser::<span class="name">ValueDescriptions</span></h3>
<p>This is a type alias for <code translate="no">QHash&lt;quint32, QString&gt;</code>.</p>
<p>The keys of the hash represent raw signal values, and the values of the hash represent corresponding string descriptions.</p>
<!-- @@@ValueDescriptions -->
</div>
<div class="func">
<h2>Member Function Documentation</h2>
<!-- $$$QCanDbcFileParser[overload1]$$$QCanDbcFileParser -->
<h3 class="fn" translate="no" id="QCanDbcFileParser">QCanDbcFileParser::<span class="name">QCanDbcFileParser</span>()</h3>
<p>Constructs a DBC file parser.</p>
<!-- @@@QCanDbcFileParser -->
<!-- $$$~QCanDbcFileParser[overload1]$$$~QCanDbcFileParser -->
<h3 class="fn" translate="no" id="dtor.QCanDbcFileParser"><code translate="no">[noexcept] </code>QCanDbcFileParser::<span class="name">~QCanDbcFileParser</span>()</h3>
<p>Destroys this DBC file parser.</p>
<!-- @@@~QCanDbcFileParser -->
<!-- $$$error[overload1]$$$error -->
<h3 class="fn" translate="no" id="error"><span class="type"><a href="qcandbcfileparser.html#Error-enum" translate="no">Error</a></span> QCanDbcFileParser::<span class="name">error</span>() const</h3>
<p>Returns the last error which occurred during the parsing.</p>
<p><b>See also </b><a href="qcandbcfileparser.html#errorString" translate="no">errorString</a>() and <a href="qcandbcfileparser.html#parse" translate="no">parse</a>().</p>
<!-- @@@error -->
<!-- $$$errorString[overload1]$$$errorString -->
<h3 class="fn" translate="no" id="errorString"><span class="type"><a href="../qtcore/qstring.html" translate="no">QString</a></span> QCanDbcFileParser::<span class="name">errorString</span>() const</h3>
<p>Returns the text representation of the last error which occurred during the parsing or an empty string if there was no error.</p>
<p><b>See also </b><a href="qcandbcfileparser.html#error" translate="no">error</a>().</p>
<!-- @@@errorString -->
<!-- $$$messageDescriptions[overload1]$$$messageDescriptions -->
<h3 class="fn" translate="no" id="messageDescriptions"><span class="type"><a href="../qtcore/qlist.html" translate="no">QList</a></span>&lt;<span class="type"><a href="qcanmessagedescription.html" translate="no">QCanMessageDescription</a></span>&gt; QCanDbcFileParser::<span class="name">messageDescriptions</span>() const</h3>
<p>Returns the list of message descriptions that were extracted during the last <a href="qcandbcfileparser.html#parse" translate="no">parse</a>() call.</p>
<p><b>See also </b><a href="qcandbcfileparser.html#parse" translate="no">parse</a>() and <a href="qcandbcfileparser.html#error" translate="no">error</a>().</p>
<!-- @@@messageDescriptions -->
<!-- $$$messageValueDescriptions[overload1]$$$messageValueDescriptions -->
<h3 class="fn" translate="no" id="messageValueDescriptions"><span class="type"><a href="qcandbcfileparser.html#MessageValueDescriptions-typedef" translate="no">MessageValueDescriptions</a></span> QCanDbcFileParser::<span class="name">messageValueDescriptions</span>() const</h3>
<p>Returns the textual descriptions for signal raw values.</p>
<p>DBC supports the possibility to provide textual descriptions to signal raw values. If such data exists in the parsed DBC file(s), it can be accessed using this function.</p>
<p>The textual descriptions are unique for a certain signal within a specific message, so the returned structure contains the information about the message unique id and the signal name, as well as the actual value descriptions.</p>
<p><b>See also </b><a href="qcandbcfileparser.html#MessageValueDescriptions-typedef" translate="no">QCanDbcFileParser::MessageValueDescriptions</a>, <a href="qcandbcfileparser.html#SignalValueDescriptions-typedef" translate="no">QCanDbcFileParser::SignalValueDescriptions</a>, and <a href="qcandbcfileparser.html#ValueDescriptions-typedef" translate="no">QCanDbcFileParser::ValueDescriptions</a>.</p>
<!-- @@@messageValueDescriptions -->
<!-- $$$parse[overload1]$$$parseconstQString& -->
<h3 class="fn" translate="no" id="parse"><span class="type">bool</span> QCanDbcFileParser::<span class="name">parse</span>(const <span class="type"><a href="../qtcore/qstring.html" translate="no">QString</a></span> &amp;<i>fileName</i>)</h3>
<p>Parses the file <i translate="no">fileName</i>. Returns <code translate="no">true</code> if the parsing completed successfully or <code translate="no">false</code> otherwise.</p>
<p>If the parsing completed successfully, call the <a href="qcandbcfileparser.html#messageDescriptions" translate="no">messageDescriptions</a>() method to get the list of all extracted message descriptions.</p>
<p>If the parsing failed, call the <a href="qcandbcfileparser.html#error" translate="no">error</a>() and <a href="qcandbcfileparser.html#errorString" translate="no">errorString</a>() methods to get the information about the error.</p>
<p>Call the <a href="qcandbcfileparser.html#warnings" translate="no">warnings</a>() method to get the list of warnings that were logged during the parsing.</p>
<div class="admonition note">
<p><b>Note: </b>This method expects the file contents to be encoded in UTF-8.</p>
</div>
<p><b>See also </b><a href="qcandbcfileparser.html#messageDescriptions" translate="no">messageDescriptions</a>(), <a href="qcandbcfileparser.html#error" translate="no">error</a>(), and <a href="qcandbcfileparser.html#warnings" translate="no">warnings</a>().</p>
<!-- @@@parse -->
<!-- $$$parse$$$parseconstQStringList& -->
<h3 class="fn" translate="no" id="parse-1"><span class="type">bool</span> QCanDbcFileParser::<span class="name">parse</span>(const <span class="type"><a href="../qtcore/qstringlist.html" translate="no">QStringList</a></span> &amp;<i>fileNames</i>)</h3>
<p>This is an overloaded function.</p>
<p>Parses a list of files <i translate="no">fileNames</i>. Returns <code translate="no">true</code> if the parsing completed successfully or <code translate="no">false</code> otherwise.</p>
<p>If the parsing completed successfully, call the <a href="qcandbcfileparser.html#messageDescriptions" translate="no">messageDescriptions</a>() method to get the list of all extracted message descriptions.</p>
<p>The parsing stops at the first error. Call the <a href="qcandbcfileparser.html#error" translate="no">error</a>() and <a href="qcandbcfileparser.html#errorString" translate="no">errorString</a>() methods to get the information about the error.</p>
<p>Call the <a href="qcandbcfileparser.html#warnings" translate="no">warnings</a>() method to get the list of warnings that were logged during the parsing.</p>
<div class="admonition note">
<p><b>Note: </b>This method expects the file contents to be encoded in UTF-8.</p>
</div>
<p><b>See also </b><a href="qcandbcfileparser.html#messageDescriptions" translate="no">messageDescriptions</a>(), <a href="qcandbcfileparser.html#error" translate="no">error</a>(), and <a href="qcandbcfileparser.html#warnings" translate="no">warnings</a>().</p>
<!-- @@@parse -->
<!-- $$$uniqueIdDescription[overload1]$$$uniqueIdDescription -->
<h3 class="fn" translate="no" id="uniqueIdDescription"><code translate="no">[static] </code><span class="type"><a href="qcanuniqueiddescription.html" translate="no">QCanUniqueIdDescription</a></span> QCanDbcFileParser::<span class="name">uniqueIdDescription</span>()</h3>
<p>Returns a unique identifier description. DBC protocol always uses the Frame Id as an identifier, and therefore the unique identifier description is always the same.</p>
<p>Use this method to get an instance of <a href="qcanuniqueiddescription.html" translate="no">QCanUniqueIdDescription</a> and pass it to <a href="qcanframeprocessor.html" translate="no">QCanFrameProcessor</a>.</p>
<p><b>See also </b><a href="qcanframeprocessor.html#setUniqueIdDescription" translate="no">QCanFrameProcessor::setUniqueIdDescription</a>().</p>
<!-- @@@uniqueIdDescription -->
<!-- $$$warnings[overload1]$$$warnings -->
<h3 class="fn" translate="no" id="warnings"><span class="type"><a href="../qtcore/qstringlist.html" translate="no">QStringList</a></span> QCanDbcFileParser::<span class="name">warnings</span>() const</h3>
<p>Returns the list of non-critical problems which occurred during the parsing.</p>
<p>A typical problem can be a malformed message or signal description. In such cases the malformed message or signal is skipped, but the rest of the file can be processed as usual.</p>
<p><b>See also </b><a href="qcandbcfileparser.html#error" translate="no">error</a>() and <a href="qcandbcfileparser.html#parse" translate="no">parse</a>().</p>
<!-- @@@warnings -->
</div>
        </div>
       </div>
   </div>
   </div>
</div>
<div class="footer">
   <p>
   <acronym title="Copyright">&copy;</acronym> 2024 <span translate="no">The Qt Company Ltd.</span>
   Documentation contributions included herein are the copyrights of
   their respective owners.<br/>    The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the <span translate="no">Free Software Foundation</span>.<br/>    <span translate="no">Qt</span> and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of <span translate="no">The Qt Company Ltd.</span> in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>
</div>
</body>
</html>
