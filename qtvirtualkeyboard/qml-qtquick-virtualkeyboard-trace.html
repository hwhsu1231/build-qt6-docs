<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
<!-- qvirtualkeyboardtrace.cpp -->
  <meta name="description" content="Trace is a data model for touch input data.">
  <title>Trace QML Type | Qt Virtual Keyboard 6.6.2</title>
  <link rel="stylesheet" type="text/css" href="style/offline-simple.css" />
  <script type="text/javascript">
    document.getElementsByTagName("link").item(0).setAttribute("href", "style/offline.css");
    // loading style sheet breaks anchors that were jumped to before
    // so force jumping to anchor again
    setTimeout(function() {
        var anchor = location.hash;
        // need to jump to different anchor first (e.g. none)
        location.hash = "#";
        setTimeout(function() {
            location.hash = anchor;
        }, 0);
    }, 0);
  </script>
</head>
<body>
<div class="header" id="qtdocheader">
    <div class="main">
    <div class="main-rounded">
        <div class="navigationbar">
        <ul>
<li><a href="../qtdoc/index.html" translate="no">Qt 6.6</a></li>
<li><a href="qtvirtualkeyboard-index.html" translate="no">Qt Virtual Keyboard</a></li>
<li><a href="qtvirtualkeyboard-qmltypes.html" translate="no">QML Types</a></li>
<li><a href="qtquick-virtualkeyboard-qmlmodule.html" translate="no">QtQuick.VirtualKeyboard</a></li>
<li>Trace</li>
<li id="buildversion"><a href="qtvirtualkeyboard-index.html" translate="no">Qt Virtual Keyboard | Commercial or GPLv3</a></li>
    </ul>
    </div>
</div>
<div class="content">
<div class="line">
<div class="content mainContent">
<div class="sidebar">
<div class="toc">
<h3 id="toc">Contents</h3>
<ul>
<li class="level1"><a href="#properties">Properties</a></li>
<li class="level1"><a href="#methods">Methods</a></li>
<li class="level1"><a href="#details">Detailed Description</a></li>
</ul>
</div>
<div class="sidebar-content" id="sidebar-content"></div></div>
<h1 class="title" translate="no">Trace QML Type</h1>
<!-- $$$Trace-brief -->
<p>Trace is a data model for touch input data. <a href="#details">More...</a></p>
<!-- @@@Trace -->
<div class="table"><table class="alignedsummary" translate="no">
<tr><td class="memItemLeft rightAlign topAlign"> Import Statement:</td><td class="memItemRight bottomAlign"> import QtQuick.VirtualKeyboard</td></tr><tr><td class="memItemLeft rightAlign topAlign"> Since:</td><td class="memItemRight bottomAlign"> QtQuick.VirtualKeyboard 2.0</td></tr><tr><td class="memItemLeft rightAlign topAlign"> Instantiates:</td><td class="memItemRight bottomAlign"> <a href="qvirtualkeyboardtrace.html" translate="no">QVirtualKeyboardTrace</a></td></tr></table></div><ul>
<li><a href="qml-qtquick-virtualkeyboard-trace-members.html">List of all members, including inherited members</a></li>
</ul>
<h2 id="properties">Properties</h2>
<ul>
<li class="fn" translate="no"><b><a href="qml-qtquick-virtualkeyboard-trace.html#canceled-prop" translate="no">canceled</a></b> : bool</li>
<li class="fn" translate="no"><b><a href="qml-qtquick-virtualkeyboard-trace.html#channels-prop" translate="no">channels</a></b> : list&lt;strings&gt;</li>
<li class="fn" translate="no"><b><a href="qml-qtquick-virtualkeyboard-trace.html#final-prop" translate="no">final</a></b> : bool</li>
<li class="fn" translate="no"><b><a href="qml-qtquick-virtualkeyboard-trace.html#opacity-prop" translate="no">opacity</a></b> : qreal</li>
<li class="fn" translate="no"><b><a href="qml-qtquick-virtualkeyboard-trace.html#traceId-prop" translate="no">traceId</a></b> : int</li>
</ul>
<h2 id="methods">Methods</h2>
<ul>
<li class="fn" translate="no">int <b><a href="qml-qtquick-virtualkeyboard-trace.html#addPoint-method" translate="no">addPoint</a></b>(point <i>point</i>)</li>
<li class="fn" translate="no">var <b><a href="qml-qtquick-virtualkeyboard-trace.html#channelData-method" translate="no">channelData</a></b>(string <i>channel</i>, int <i>pos</i>, int <i>count</i>)</li>
<li class="fn" translate="no">var <b><a href="qml-qtquick-virtualkeyboard-trace.html#points-method" translate="no">points</a></b>(int <i>pos</i>, int <i>count</i>)</li>
<li class="fn" translate="no">void <b><a href="qml-qtquick-virtualkeyboard-trace.html#setChannelData-method" translate="no">setChannelData</a></b>(int <i>index</i>, string <i>channel</i>, var <i>data</i>)</li>
<li class="fn" translate="no">void <b><a href="qml-qtquick-virtualkeyboard-trace.html#startHideTimer-method" translate="no">startHideTimer</a></b>(int <i>delayMs</i>)</li>
</ul>
<!-- $$$Trace-description -->
<h2 id="details">Detailed Description</h2>
<p>Trace provides the data model for coordinate data and other optional data associated with a single stroke.</p>
<p>A typical use case for the trace object is as follows:</p>
<ul>
<li><a href="qml-qtquick-virtualkeyboard-components-traceinputarea.html" translate="no">TraceInputArea</a> or other input device initiates the trace event by calling <a href="qml-qtquick-virtualkeyboard-inputengine.html#traceBegin-method" translate="no">InputEngine.traceBegin</a>() method.</li>
<li>If the current input method accepts the event it creates a trace object and configures the required data channels (if any).</li>
<li><a href="qml-qtquick-virtualkeyboard-components-traceinputarea.html" translate="no">TraceInputArea</a> collects the data for the trace object.</li>
<li><a href="qml-qtquick-virtualkeyboard-components-traceinputarea.html" translate="no">TraceInputArea</a> calls the <a href="qml-qtquick-virtualkeyboard-inputengine.html#traceEnd-method" translate="no">InputEngine.traceEnd</a>() method to finish the trace and passing the trace object back to input method.</li>
<li>The input method processes the data and discards the object when it is no longer needed.</li>
</ul>
<p>The coordinate data is retrieved using the <a href="qml-qtquick-virtualkeyboard-trace.html#points-method" translate="no">points</a>() function.</p>
<p>In addition to coordinate based data, it is possible to attach an arbitrary data channel for each data point.</p>
<p>The data channels must be defined before the points are added. The data channels supported by the <a href="qml-qtquick-virtualkeyboard-components-traceinputarea.html" translate="no">TraceInputArea</a> are listed below:</p>
<ul>
<li><code translate="no">&quot;t&quot;</code> Collects time for each data point. The time is the number of milliseconds since 1970/01/01:</li>
</ul>
<p>For example, to configure the object to collect the times for each point:</p>
<pre class="cpp" translate="no">
 <span class="type">QVirtualKeyboardTrace</span> <span class="operator">*</span>trace <span class="operator">=</span> <span class="keyword">new</span> <span class="type">QVirtualKeyboardTrace</span>(<span class="keyword">this</span>);
 trace<span class="operator">-</span><span class="operator">&gt;</span>setChannels(<span class="type">QStringList</span>() <span class="operator">&lt;</span><span class="operator">&lt;</span> <span class="string">&quot;t&quot;</span>);
</pre>
<p>The collected data can be accessed using the <a href="qml-qtquick-virtualkeyboard-trace.html#channelData-method" translate="no">channelData</a>() function:</p>
<pre class="cpp" translate="no">
 <span class="type">QVariantList</span> timeData <span class="operator">=</span> trace<span class="operator">-</span><span class="operator">&gt;</span>channelData(<span class="string">&quot;t&quot;</span>);
</pre>
<p>Trace objects are owned by their creator, which is the input method in normal case. This means the objects are constructed in the <a href="qml-qtquick-virtualkeyboard-inputmethod.html#traceBegin-method" translate="no">InputMethod.traceBegin</a>() (QML) method.</p>
<p>By definition, the trace object can be destroyed at earliest in the <a href="qml-qtquick-virtualkeyboard-inputmethod.html#traceEnd-method" translate="no">InputMethod.traceEnd</a>() (QML) method.</p>
<!-- @@@Trace -->
<h2>Property Documentation</h2>
<!-- $$$canceled -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="canceled-prop">
<td class="tblQmlPropNode"><p>
<span class="name">canceled</span> : <span class="type"><a href="../qtqml/qml-bool.html" translate="no">bool</a></span></p></td></tr>
</table></div></div>
<div class="qmldoc"><p>This property defines whether the Trace is canceled. The input data should not be processed from the Traces whose <code translate="no">canceled</code> property set to true.</p>
</div></div><!-- @@@canceled -->
<br/>
<!-- $$$channels -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="channels-prop">
<td class="tblQmlPropNode"><p>
<span class="name">channels</span> : <span class="type"><a href="../qtqml/qml-list.html" translate="no">list</a></span>&lt;<span class="type">strings</span>&gt;</p></td></tr>
</table></div></div>
<div class="qmldoc"><p>List of additional data channels in the Trace. This property must be initialized before the data is added.</p>
</div></div><!-- @@@channels -->
<br/>
<!-- $$$final -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="final-prop">
<td class="tblQmlPropNode"><p>
<span class="name">final</span> : <span class="type"><a href="../qtqml/qml-bool.html" translate="no">bool</a></span></p></td></tr>
</table></div></div>
<div class="qmldoc"><p>This property defines whether the Trace can accept more data. If the value is <code translate="no">true</code>, no more data is accepted.</p>
</div></div><!-- @@@final -->
<br/>
<!-- $$$opacity -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="opacity-prop">
<td class="tblQmlPropNode"><p>
<span class="qmlextra">[since QtQuick.VirtualKeyboard 2.4] </span><span class="name">opacity</span> : <span class="type">qreal</span></p></td></tr>
</table></div></div>
<div class="qmldoc"><p>This property defines how opaque the Trace is.</p>
<p>A lower value results in a more transparent trace: <code translate="no">0.0</code> is fully transparent, and <code translate="no">1.0</code> is fully opaque.</p>
<p>This property is useful for making older traces more transparent as new ones are added.</p>
<p>This property was introduced in QtQuick.VirtualKeyboard 2.4.</p>
</div></div><!-- @@@opacity -->
<br/>
<!-- $$$traceId -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="traceId-prop">
<td class="tblQmlPropNode"><p>
<span class="name">traceId</span> : <span class="type"><a href="../qtqml/qml-int.html" translate="no">int</a></span></p></td></tr>
</table></div></div>
<div class="qmldoc"><p>Unique id of this Trace.</p>
</div></div><!-- @@@traceId -->
<br/>
<h2>Method Documentation</h2>
<!-- $$$addPoint[overload1]$$$addPointpoint -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="addPoint-method">
<td class="tblQmlFuncNode"><p>
<span class="type"><a href="../qtqml/qml-int.html" translate="no">int</a></span> <span class="name">addPoint</span>(<span class="type"><a href="../qtqml/qml-point.html" translate="no">point</a></span> <i>point</i>)</p></td></tr>
</table></div></div>
<div class="qmldoc"><p>Adds a <i translate="no">point</i> to the Trace.</p>
<p>The method returns index of the point added, or -1 if the points cannot be added (i.e. the <a href="qml-qtquick-virtualkeyboard-trace.html#final-prop" translate="no">final</a> is true).</p>
<div class="admonition note">
<p><b>Note: </b>The returned index is required to associate additional data with the point using the <a href="qml-qtquick-virtualkeyboard-trace.html#setChannelData-method" translate="no">setChannelData</a>() function.</p>
</div>
</div></div><!-- @@@addPoint -->
<br/>
<!-- $$$channelData[overload1]$$$channelDatastringintint -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="channelData-method">
<td class="tblQmlFuncNode"><p>
<span class="type"><a href="../qtqml/qml-var.html" translate="no">var</a></span> <span class="name">channelData</span>(<span class="type"><a href="../qtqml/qml-string.html" translate="no">string</a></span> <i>channel</i>, <span class="type"><a href="../qtqml/qml-int.html" translate="no">int</a></span> <i>pos</i>, <span class="type"><a href="../qtqml/qml-int.html" translate="no">int</a></span> <i>count</i>)</p></td></tr>
</table></div></div>
<div class="qmldoc"><p>Returns data from the specified <i translate="no">channel</i>. If no other parameters are given, the function returns all the data.</p>
<p>If the <i translate="no">pos</i> parameter is given, the function returns data starting at the position. The <i translate="no">count</i> parameter limits how many items are returned.</p>
<p><b>See also </b><a href="qml-qtquick-virtualkeyboard-trace.html#setChannelData-method" translate="no">setChannelData</a>().</p>
</div></div><!-- @@@channelData -->
<br/>
<!-- $$$points[overload1]$$$pointsintint -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="points-method">
<td class="tblQmlFuncNode"><p>
<span class="type"><a href="../qtqml/qml-var.html" translate="no">var</a></span> <span class="name">points</span>(<span class="type"><a href="../qtqml/qml-int.html" translate="no">int</a></span> <i>pos</i>, <span class="type"><a href="../qtqml/qml-int.html" translate="no">int</a></span> <i>count</i>)</p></td></tr>
</table></div></div>
<div class="qmldoc"><p>Returns list of points. If no parameters are given, the function returns all the points.</p>
<p>If the <i translate="no">pos</i> parameter is given, the function returns points starting at the position. The <i translate="no">count</i> parameter limits how many points are returned.</p>
<p>The returned list contains <code translate="no">point</code> types.</p>
</div></div><!-- @@@points -->
<br/>
<!-- $$$setChannelData[overload1]$$$setChannelDataintstringvar -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="setChannelData-method">
<td class="tblQmlFuncNode"><p>
<span class="type">void</span> <span class="name">setChannelData</span>(<span class="type"><a href="../qtqml/qml-int.html" translate="no">int</a></span> <i>index</i>, <span class="type"><a href="../qtqml/qml-string.html" translate="no">string</a></span> <i>channel</i>, <span class="type"><a href="../qtqml/qml-var.html" translate="no">var</a></span> <i>data</i>)</p></td></tr>
</table></div></div>
<div class="qmldoc"><p>Sets <i translate="no">data</i> for the point at <i translate="no">index</i> in the given data <i translate="no">channel</i>.</p>
<p>If this method is not called for each data point, the channel data will be padded with empty values. However, the data cannot be added at arbitrary index, i.e., it must be added in synchronously with the point data.</p>
<p><b>See also </b><a href="qml-qtquick-virtualkeyboard-trace.html#channelData-method" translate="no">channelData</a>().</p>
</div></div><!-- @@@setChannelData -->
<br/>
<!-- $$$startHideTimer[overload1]$$$startHideTimerint -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tr valign="top" class="odd" id="startHideTimer-method">
<td class="tblQmlFuncNode"><p>
<code translate="no">[since QtQuick.VirtualKeyboard.Styles 6.1] </code><span class="type">void</span> <span class="name">startHideTimer</span>(<span class="type"><a href="../qtqml/qml-int.html" translate="no">int</a></span> <i>delayMs</i>)</p></td></tr>
</table></div></div>
<div class="qmldoc"><p>Starts a timer to set opacity to zero after <i translate="no">delayMs</i>. If called again within <i translate="no">delayMs</i>, the timer is restarted.</p>
<p>With this function the input method can hide the trace from screen before destroying the trace object, for example, to indicate that the trace has been processed.</p>
<p>This method was introduced in QtQuick.VirtualKeyboard.Styles 6.1.</p>
</div></div><!-- @@@startHideTimer -->
<br/>
        </div>
       </div>
   </div>
   </div>
</div>
<div class="footer">
   <p>
   <acronym title="Copyright">&copy;</acronym> 2024 <span translate="no">The Qt Company Ltd.</span>
   Documentation contributions included herein are the copyrights of
   their respective owners.<br/>    The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the <span translate="no">Free Software Foundation</span>.<br/>    <span translate="no">Qt</span> and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of <span translate="no">The Qt Company Ltd.</span> in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>
</div>
</body>
</html>
