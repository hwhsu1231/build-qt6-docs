<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
<!-- qtqmlcompiler-index.qdoc -->
  <meta name="description" content="Provides tools for static analysis of QML code.">
  <title>Qt QML Compiler 6.6.2</title>
  <link rel="stylesheet" type="text/css" href="style/offline-simple.css" />
  <script type="text/javascript">
    document.getElementsByTagName("link").item(0).setAttribute("href", "style/offline.css");
    // loading style sheet breaks anchors that were jumped to before
    // so force jumping to anchor again
    setTimeout(function() {
        var anchor = location.hash;
        // need to jump to different anchor first (e.g. none)
        location.hash = "#";
        setTimeout(function() {
            location.hash = anchor;
        }, 0);
    }, 0);
  </script>
</head>
<body>
<div class="header" id="qtdocheader">
    <div class="main">
    <div class="main-rounded">
        <div class="navigationbar">
        <ul>
<li><a href="../qtdoc/index.html" translate="no">Qt 6.6</a></li>
<li>Qt QML Compiler</li>
<li id="buildversion">Qt 6.6.2 Reference Documentation</li>
    </ul>
    </div>
</div>
<div class="content">
<div class="line">
<div class="content mainContent">
<div class="sidebar">
<div class="toc">
<h3 id="toc">Contents</h3>
<ul>
<li class="level1"><a href="#using-the-module">Using the Module</a></li>
<li class="level2"><a href="#building-with-cmake">Building with CMake</a></li>
<li class="level2"><a href="#building-with-qmake">Building with qmake</a></li>
<li class="level1"><a href="#using-the-qqmlsa-framework">Using the QQmlSA framework</a></li>
<li class="level1"><a href="#examples">Examples</a></li>
<li class="level1"><a href="#reference">Reference</a></li>
</ul>
</div>
<div class="sidebar-content" id="sidebar-content"></div></div>
<h1 class="title">Qt QML Compiler</h1>
<!-- $$$qtqmlcompiler-index.html-description -->
<div class="descr" id="details">
<p>The Qt QML Compiler module contains shared functionality needed by QML tooling like the <a href="../qtquick/qtquick-tools-and-utilities.html#qt-quick-compiler" translate="no">Qt Quick Compiler</a> and <a href="../qtquick/qtquick-tool-qmllint.html" translate="no">qmllint</a>. It also provides the <a href="qqmlsa.html" translate="no">QQmlSA</a> framework, which can be used to extend the built-in analysis capabilities of the tools.</p>
<h2 id="using-the-module">Using the Module</h2>
<p>Using a Qt module's C++ API requires linking against the module library, either directly or through other dependencies. Several build tools have dedicated support for this, including <a href="https://cmake.org/cmake/help/latest/" translate="no">CMake</a> and <a href="../qmake/qmake-manual.html" translate="no">qmake</a>.</p>
<h3 id="building-with-cmake">Building with CMake</h3>
<p>Use the <code translate="no">find_package()</code> command to locate the needed module component in the <code translate="no">Qt6</code> package:</p>
<pre class="cpp" translate="no">
 find_package(Qt6 REQUIRED COMPONENTS QmlCompiler)
 target_link_libraries(mytarget PRIVATE Qt6<span class="operator">::</span>QmlCompiler)
</pre>
<p>For more details, see the <a href="../qtcmake/cmake-manual.html" translate="no">Build with CMake</a> overview.</p>
<h3 id="building-with-qmake">Building with qmake</h3>
<p>To configure the module for building with qmake, add the module as a value of the <code translate="no">QT</code> variable in the project's .pro file:</p>
<pre class="cpp" translate="no">
 QT <span class="operator">+</span><span class="operator">=</span> QmlCompiler
</pre>
<h2 id="using-the-qqmlsa-framework">Using the QQmlSA framework</h2>
<p>The Qt QML Compiler module offers the <a href="qqmlsa.html" translate="no">QQmlSA</a> framework which provides tools for static analysis of QML code. These tools can help ensure syntactic validity and warn about QML anti-patterns. Adding static analysis to a QML program is done by writing plugins. They will run a collection of analysis passes over the elements and properties of the QML code. The passes can be registered with a PassManager which holds the passes and can be called to analyze an element and its children. A pass is a check for a certain rule or condition evaluated on elements or properties. If the condition is met, the pass can warn the user of an indentified issue in the code and maybe even suggest a fix. It is called a pass because the analysis performed on elements and properties happens by running a collection of passes on them in succesion. Each pass should be responsible for identifying one specific issue only. Combining a set of passes can perform more complex analysis and, together, form a plugin. Element passes are defined by two main components, namely <code translate="no">shouldRun()</code> and <code translate="no">run()</code>. When performing the analysis, the pass manager will execute the pass over every element it encounters while traversing the children of the root element. For each element, if <code translate="no">shouldRun()</code> evaluated on that element returns <code translate="no">true</code> then <code translate="no">run()</code> is executed on it. Passes on properties trigger on three different events, namely when the property is bound, when it is read, and when it is written to. These can be implemented by overriding the <code translate="no">onBinding()</code>, <code translate="no">onRead()</code> and <code translate="no">onWrite()</code> functions respectively. As the code grows, so does the number of elements and properties. Performing the static analysis passes on all of them can become expensive. That's why it is good to be granular when deciding which elements and properties to analyze. For elements, the <code translate="no">shouldRun()</code> is intended to be a cheap check to determine if <code translate="no">run()</code>, which performs the real computation, should be run. For properties, the selection is done when registering the passes with the manager. The <code translate="no">registerPropertyPass()</code> function takes the <code translate="no">moduleName</code>, <code translate="no">typeName</code> and <code translate="no">propertyName</code> strings as arguments. These are used to filter down the set of properties affected by the registered pass.</p>
<h2 id="examples">Examples</h2>
<p>The <a href="qqmlsa-tutorial.html" translate="no">QML Static Analysis Tutorial</a> shows how to use the <code translate="no">QQmlSA</code> framework to create a custom <a href="../qtquick/qtquick-tool-qmllint.html" translate="no">qmllint</a> pass.</p>
<h2 id="reference">Reference</h2>
<ul>
<li><a href="qtqmlcompiler-module.html" translate="no">Qt QML Compiler C++ Classes</a> - the C++ API provided by the QmlCompiler module</li>
<li>QML tooling using the static analysis capabilities<ul>
<li><a href="../qtqml/qtqml-qml-script-compiler.html" translate="no">QML script compiler</a></li>
<li><a href="../qtquick/qtquick-tool-qmllint.html" translate="no">qmllint</a></li>
<li><a href="../qtquick/qtquick-tool-qmlls.html" translate="no">QML Language Server</a></li>
<li><a href="../qtqml/qtqml-qml-type-compiler.html" translate="no">QML type compiler</a></li>
</ul>
</li>
</ul>
</div>
<!-- @@@qtqmlcompiler-index.html -->
        </div>
       </div>
   </div>
   </div>
</div>
<div class="footer">
   <p>
   <acronym title="Copyright">&copy;</acronym> 2024 <span translate="no">The Qt Company Ltd.</span>
   Documentation contributions included herein are the copyrights of
   their respective owners.<br/>    The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the <span translate="no">Free Software Foundation</span>.<br/>    <span translate="no">Qt</span> and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of <span translate="no">The Qt Company Ltd.</span> in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>
</div>
</body>
</html>
