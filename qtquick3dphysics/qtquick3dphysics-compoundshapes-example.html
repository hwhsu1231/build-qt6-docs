<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
<!-- qtquick3dphysics-examples-compoundshapes.qdoc -->
  <meta name="description" content="Demonstrates using complex collision shapes.">
  <title>Qt Quick 3D Physics - Compound Shapes Example | Qt Quick 3D Physics 6.6.0</title>
  <link rel="stylesheet" type="text/css" href="style/offline-simple.css" />
  <script type="text/javascript">
    document.getElementsByTagName("link").item(0).setAttribute("href", "style/offline.css");
    // loading style sheet breaks anchors that were jumped to before
    // so force jumping to anchor again
    setTimeout(function() {
        var anchor = location.hash;
        // need to jump to different anchor first (e.g. none)
        location.hash = "#";
        setTimeout(function() {
            location.hash = anchor;
        }, 0);
    }, 0);
  </script>
</head>
<body>
<div class="header" id="qtdocheader">
    <div class="main">
    <div class="main-rounded">
        <div class="navigationbar">
        <ul>
<li><a href="../qtdoc/index.html" translate="no">Qt 6.6</a></li>
<li><a href="qtquick3dphysics-index.html" translate="no">Qt Quick 3D Physics</a></li>
<li><a href="quick3dphysics-examples.html" translate="no">Qt Quick 3D Physics Examples and Tutorials</a></li>
<li>Qt Quick 3D Physics - Compound Shapes Example</li>
<li id="buildversion"><a href="qtquick3dphysics-index.html" translate="no">Qt Quick 3D Physics | Commercial or GPLv3</a></li>
    </ul>
    </div>
</div>
<div class="content">
<div class="line">
<div class="content mainContent">
<div class="sidebar">
<div class="toc">
<h3 id="toc">Contents</h3>
<ul>
<li class="level1"><a href="#setup">Setup</a></li>
<li class="level1"><a href="#physical-objects">Physical objects</a></li>
<li class="level1"><a href="#mesh-link">Mesh Link</a></li>
<li class="level1"><a href="#capsule-link">Capsule Link</a></li>
</ul>
</div>
<div class="sidebar-content" id="sidebar-content"></div></div>
<h1 class="title">Qt Quick 3D Physics - Compound Shapes Example</h1>
<!-- $$$compoundshapes-brief -->
<p>Demonstrates using complex collision shapes.</p>
<!-- @@@compoundshapes -->
<!-- $$$compoundshapes-description -->
<div class="descr" id="details">
<p class="centerAlign"><img src="images/compoundshapes-example.jpg" alt="" /></p><p>This example demonstrates how to use more than one collision shape to create complex objects for collision detection. The scene consists of a green static plane and a series of links connected to each other. At the beginning, the simulation is disabled. After some time or when the user press the space key, the simulation will start. An animation will start that causes the leftmost and rightmost links to move horizontally back and forth.</p>
<h4 id="setup">Setup</h4>
<p>As usual we need to add our <a href="qml-qtquick3d-physics-physicsworld.html" translate="no">PhysicsWorld</a>:</p>
<pre class="qml" translate="no">
 <span class="type"><a href="qml-qtquick3d-physics-physicsworld.html" translate="no">PhysicsWorld</a></span> {
     <span class="name">id</span>: <span class="name">physicsWorld</span>
     <span class="name">enableCCD</span>: <span class="number">true</span>
     <span class="name">maximumTimestep</span>: <span class="number">20</span>
     <span class="name">scene</span>: <span class="name">viewport</span>.<span class="name">scene</span>
 }
</pre>
<p>We do the usual setup where we have an environment, camera and lights:</p>
<pre class="qml" translate="no">
 <span class="name">environment</span>: <span class="name">SceneEnvironment</span> {
     <span class="name">antialiasingMode</span>: <span class="name">SceneEnvironment</span>.<span class="name">MSAA</span>
     <span class="name">backgroundMode</span>: <span class="name">SceneEnvironment</span>.<span class="name">Color</span>
     <span class="name">clearColor</span>: <span class="string">&quot;lightblue&quot;</span>
 }

 <span class="name">focus</span>: <span class="number">true</span>

 <span class="type"><a href="../qtquick3d/qml-qtquick3d-perspectivecamera.html" translate="no">PerspectiveCamera</a></span> {
     <span class="name">id</span>: <span class="name">camera</span>
     <span class="name">position</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(<span class="number">0</span>, <span class="number">900</span>, <span class="number">1500</span>)
     <span class="name">eulerRotation</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(-<span class="number">10</span>, <span class="number">0</span>, <span class="number">0</span>)
     <span class="name">clipFar</span>: <span class="number">15500</span>
     <span class="name">clipNear</span>: <span class="number">1</span>
 }

 <span class="type"><a href="../qtquick3d/qml-qtquick3d-directionallight.html" translate="no">DirectionalLight</a></span> {
     <span class="name">eulerRotation</span>.x: -<span class="number">45</span>
     <span class="name">eulerRotation</span>.y: <span class="number">45</span>
     <span class="name">castsShadow</span>: <span class="number">true</span>
     <span class="name">brightness</span>: <span class="number">1.5</span>
     <span class="name">shadowFactor</span>: <span class="number">15</span>
     <span class="name">shadowFilter</span>: <span class="number">10</span>
     <span class="name">shadowMapFar</span>: <span class="number">100</span>
     <span class="name">shadowBias</span>: -<span class="number">0.01</span>
     <span class="name">shadowMapQuality</span>: <span class="name">Light</span>.<span class="name">ShadowMapQualityVeryHigh</span>
 }
</pre>
<h4 id="physical-objects">Physical objects</h4>
<p>We have our regular static plane:</p>
<pre class="qml" translate="no">
 <span class="type"><a href="qml-qtquick3d-physics-staticrigidbody.html" translate="no">StaticRigidBody</a></span> {
     <span class="name">position</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(<span class="number">0</span>, -<span class="number">100</span>, <span class="number">0</span>)
     <span class="name">eulerRotation</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(-<span class="number">90</span>, <span class="number">0</span>, <span class="number">0</span>)
     <span class="name">collisionShapes</span>: <span class="name">PlaneShape</span> {}
     <span class="type"><a href="../qtquick3d/qml-qtquick3d-model.html" translate="no">Model</a></span> {
         <span class="name">source</span>: <span class="string">&quot;#Rectangle&quot;</span>
         <span class="name">scale</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(<span class="number">500</span>, <span class="number">500</span>, <span class="number">1</span>)
         <span class="name">materials</span>: <span class="name">DefaultMaterial</span> {
             <span class="name">diffuseColor</span>: <span class="string">&quot;green&quot;</span>
         }
         <span class="name">castsShadows</span>: <span class="number">false</span>
         <span class="name">receivesShadows</span>: <span class="number">true</span>
     }
 }
</pre>
<p>Then we make instances of our links.</p>
<pre class="qml" translate="no">
 <span class="type">MeshLink</span> {
     <span class="name">id</span>: <span class="name">leftLink</span>
     <span class="name">isKinematic</span>: <span class="number">true</span>
     property <span class="type"><a href="../qtquick/qml-vector3d.html" translate="no">vector3d</a></span> <span class="name">startPos</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(-<span class="number">6</span> <span class="operator">*</span> <span class="name">viewport</span>.<span class="name">ringDistance</span>,
                                             <span class="name">viewport</span>.<span class="name">ringY</span>,
                                             <span class="number">0</span>)
     property <span class="type"><a href="../qtquick/qml-vector3d.html" translate="no">vector3d</a></span> <span class="name">startRot</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(<span class="number">90</span>, <span class="number">0</span>, <span class="number">0</span>)
     <span class="name">kinematicPosition</span>: <span class="name">startPos</span>
     <span class="name">position</span>: <span class="name">startPos</span>
     <span class="name">kinematicEulerRotation</span>: <span class="name">startRot</span>
     <span class="name">eulerRotation</span>: <span class="name">startRot</span>
     <span class="name">color</span>: <span class="string">&quot;red&quot;</span>
 }

 <span class="type">CapsuleLink</span> {
     <span class="name">position</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(-<span class="number">5</span> <span class="operator">*</span> <span class="name">viewport</span>.<span class="name">ringDistance</span>, <span class="name">viewport</span>.<span class="name">ringY</span>, <span class="number">0</span>)
     <span class="name">eulerRotation</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(<span class="number">90</span>, <span class="number">0</span>, <span class="number">0</span>)
 }

 <span class="type">MeshLink</span> {
     <span class="name">position</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(-<span class="number">4</span> <span class="operator">*</span> <span class="name">viewport</span>.<span class="name">ringDistance</span>, <span class="name">viewport</span>.<span class="name">ringY</span>, <span class="number">0</span>)
     <span class="name">eulerRotation</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(<span class="number">90</span>, <span class="number">0</span>, <span class="number">0</span>)
 }

 <span class="type">MeshLink</span> {
     <span class="name">position</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(-<span class="number">3</span> <span class="operator">*</span> <span class="name">viewport</span>.<span class="name">ringDistance</span>, <span class="name">viewport</span>.<span class="name">ringY</span>, <span class="number">0</span>)
     <span class="name">eulerRotation</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(<span class="number">0</span>, <span class="number">90</span>, <span class="number">0</span>)
 }

 <span class="type">MeshLink</span> {
     <span class="name">position</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(-<span class="number">2</span> <span class="operator">*</span> <span class="name">viewport</span>.<span class="name">ringDistance</span>, <span class="name">viewport</span>.<span class="name">ringY</span>, <span class="number">0</span>)
     <span class="name">eulerRotation</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(<span class="number">90</span>, <span class="number">0</span>, <span class="number">0</span>)
 }

 <span class="type">MeshLink</span> {
     <span class="name">position</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(-<span class="number">1</span> <span class="operator">*</span> <span class="name">viewport</span>.<span class="name">ringDistance</span>, <span class="name">viewport</span>.<span class="name">ringY</span>, <span class="number">0</span>)
     <span class="name">eulerRotation</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(<span class="number">0</span>, <span class="number">90</span>, <span class="number">0</span>)
 }

 <span class="type">CapsuleLink</span> {
     <span class="name">position</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(<span class="number">0</span>, <span class="name">viewport</span>.<span class="name">ringY</span>, <span class="number">0</span>)
 }

 <span class="type">MeshLink</span> {
     <span class="name">position</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(<span class="number">1</span> <span class="operator">*</span> <span class="name">viewport</span>.<span class="name">ringDistance</span>, <span class="name">viewport</span>.<span class="name">ringY</span>, <span class="number">0</span>)
     <span class="name">eulerRotation</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(<span class="number">0</span>, <span class="number">90</span>, <span class="number">0</span>)
 }

 <span class="type">MeshLink</span> {
     <span class="name">position</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(<span class="number">2</span> <span class="operator">*</span> <span class="name">viewport</span>.<span class="name">ringDistance</span>, <span class="name">viewport</span>.<span class="name">ringY</span>, <span class="number">0</span>)
     <span class="name">eulerRotation</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(<span class="number">90</span>, <span class="number">0</span>, <span class="number">0</span>)
 }

 <span class="type">MeshLink</span> {
     <span class="name">position</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(<span class="number">3</span> <span class="operator">*</span> <span class="name">viewport</span>.<span class="name">ringDistance</span>, <span class="name">viewport</span>.<span class="name">ringY</span>, <span class="number">0</span>)
     <span class="name">eulerRotation</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(<span class="number">0</span>, <span class="number">90</span>, <span class="number">0</span>)
 }

 <span class="type">MeshLink</span> {
     <span class="name">position</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(<span class="number">4</span> <span class="operator">*</span> <span class="name">viewport</span>.<span class="name">ringDistance</span>, <span class="name">viewport</span>.<span class="name">ringY</span>, <span class="number">0</span>)
     <span class="name">eulerRotation</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(<span class="number">90</span>, <span class="number">0</span>, <span class="number">0</span>)
 }

 <span class="type">CapsuleLink</span> {
     <span class="name">position</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(<span class="number">5</span> <span class="operator">*</span> <span class="name">viewport</span>.<span class="name">ringDistance</span>, <span class="name">viewport</span>.<span class="name">ringY</span>, <span class="number">0</span>)
     <span class="name">eulerRotation</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(<span class="number">90</span>, <span class="number">0</span>, <span class="number">0</span>)
 }

 <span class="type">MeshLink</span> {
     <span class="name">id</span>: <span class="name">rightLink</span>
     <span class="name">isKinematic</span>: <span class="number">true</span>
     property <span class="type"><a href="../qtquick/qml-vector3d.html" translate="no">vector3d</a></span> <span class="name">startPos</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(<span class="number">6</span> <span class="operator">*</span> <span class="name">viewport</span>.<span class="name">ringDistance</span>,
                                             <span class="name">viewport</span>.<span class="name">ringY</span>,
                                             <span class="number">0</span>)
     property <span class="type"><a href="../qtquick/qml-vector3d.html" translate="no">vector3d</a></span> <span class="name">startRot</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(<span class="number">90</span>, <span class="number">0</span>, <span class="number">0</span>)
     <span class="name">kinematicPosition</span>: <span class="name">startPos</span>
     <span class="name">position</span>: <span class="name">startPos</span>
     <span class="name">kinematicEulerRotation</span>: <span class="name">startRot</span>
     <span class="name">eulerRotation</span>: <span class="name">startRot</span>
     <span class="name">color</span>: <span class="string">&quot;red&quot;</span>
 }
</pre>
<p>The first link which is on the left has its <a href="qml-qtquick3d-physics-dynamicrigidbody.html#isKinematic-prop" translate="no">isKinematic</a> property set to <code translate="no">true</code> so that we can control it via animation. Since it is a kinematic object we need to set the <a href="qml-qtquick3d-physics-dynamicrigidbody.html#kinematicPosition-prop" translate="no">kinematicPosition</a> and <a href="qml-qtquick3d-physics-dynamicrigidbody.html#kinematicRotation-prop" translate="no">kinematicRotation</a> properties. We animate it by animating the <a href="qml-qtquick3d-physics-dynamicrigidbody.html#kinematicPosition-prop" translate="no">kinematicPosition</a> property. The other links are instanced with some spacing between them.</p>
<p>To get a smooth animation that follows the physical simulation exactly we use an <a href="../qtquick/qml-qtquick-animationcontroller.html" translate="no">AnimationController</a> which we connect to the <code translate="no">onFrameDone</code> signal on the <a href="qml-qtquick3d-physics-physicsworld.html" translate="no">PhysicsWorld</a>. This way, if there were to be any frame drops slowing down the simulation the animation will slow down accordingly. We use a <a href="../qtquick/qml-qtquick-sequentialanimation.html" translate="no">SequentialAnimation</a> with four <a href="../qtquick/qml-qtquick-numberanimation.html" translate="no">NumberAnimation</a> to move the leftmost and rightmost rings back and forth. This is the QML code for the animation:</p>
<pre class="qml" translate="no">
 <span class="type"><a href="../qtqml/qml-qtqml-connections.html" translate="no">Connections</a></span> {
     <span class="name">target</span>: <span class="name">physicsWorld</span>
     property <span class="type"><a href="../qtqml/qml-real.html" translate="no">real</a></span> <span class="name">totalAnimationTime</span>: <span class="number">12000</span>
     <span class="keyword">function </span><span class="name">onFrameDone</span>(timeStep) {
         let progressStep = <span class="name">timeStep</span> <span class="operator">/</span> <span class="name">totalAnimationTime</span>
         <span class="name">animationController</span>.<span class="name">progress</span> <span class="operator">+=</span> <span class="name">progressStep</span>
         <span class="keyword">if</span> (<span class="name">animationController</span>.<span class="name">progress</span> <span class="operator">&gt;=</span> <span class="number">1</span>) {
             <span class="name">animationController</span>.<span class="name">completeToEnd</span>()
             <span class="name">animationController</span>.<span class="name">reload</span>()
             <span class="name">animationController</span>.<span class="name">progress</span> <span class="operator">=</span> <span class="number">0</span>
         }
     }
 }

 <span class="type"><a href="../qtquick/qml-qtquick-animationcontroller.html" translate="no">AnimationController</a></span> {
     <span class="name">id</span>: <span class="name">animationController</span>
     <span class="name">animation</span>: <span class="name">SequentialAnimation</span> {
         <span class="type"><a href="../qtquick/qml-qtquick-numberanimation.html" translate="no">NumberAnimation</a></span> {
             <span class="name">target</span>: <span class="name">leftLink</span>
             <span class="name">property</span>: <span class="string">&quot;kinematicPosition.x&quot;</span>
             <span class="name">to</span>: <span class="number">3</span> <span class="operator">*</span> <span class="name">viewport</span>.<span class="name">ringDistance</span>
             <span class="name">from</span>: -<span class="number">6</span> <span class="operator">*</span> <span class="name">viewport</span>.<span class="name">ringDistance</span>
             <span class="name">easing</span>.type: <span class="name">Easing</span>.<span class="name">InOutCubic</span>
             <span class="name">duration</span>: <span class="number">1000</span>
         }
         <span class="type"><a href="../qtquick/qml-qtquick-numberanimation.html" translate="no">NumberAnimation</a></span> {
             <span class="name">target</span>: <span class="name">leftLink</span>
             <span class="name">property</span>: <span class="string">&quot;kinematicPosition.x&quot;</span>
             <span class="name">from</span>: <span class="number">3</span> <span class="operator">*</span> <span class="name">viewport</span>.<span class="name">ringDistance</span>
             <span class="name">to</span>: -<span class="number">6</span> <span class="operator">*</span> <span class="name">viewport</span>.<span class="name">ringDistance</span>
             <span class="name">easing</span>.type: <span class="name">Easing</span>.<span class="name">InOutCubic</span>
             <span class="name">duration</span>: <span class="number">1000</span>
         }
         <span class="type"><a href="../qtquick/qml-qtquick-numberanimation.html" translate="no">NumberAnimation</a></span> {
             <span class="name">target</span>: <span class="name">rightLink</span>
             <span class="name">property</span>: <span class="string">&quot;kinematicPosition.x&quot;</span>
             <span class="name">to</span>: -<span class="number">3</span> <span class="operator">*</span> <span class="name">viewport</span>.<span class="name">ringDistance</span>
             <span class="name">from</span>: <span class="number">6</span> <span class="operator">*</span> <span class="name">viewport</span>.<span class="name">ringDistance</span>
             <span class="name">easing</span>.type: <span class="name">Easing</span>.<span class="name">InOutCubic</span>
             <span class="name">duration</span>: <span class="number">1000</span>
         }
         <span class="type"><a href="../qtquick/qml-qtquick-numberanimation.html" translate="no">NumberAnimation</a></span> {
             <span class="name">target</span>: <span class="name">rightLink</span>
             <span class="name">property</span>: <span class="string">&quot;kinematicPosition.x&quot;</span>
             <span class="name">from</span>: -<span class="number">3</span> <span class="operator">*</span> <span class="name">viewport</span>.<span class="name">ringDistance</span>
             <span class="name">to</span>: <span class="number">6</span> <span class="operator">*</span> <span class="name">viewport</span>.<span class="name">ringDistance</span>
             <span class="name">easing</span>.type: <span class="name">Easing</span>.<span class="name">InOutCubic</span>
             <span class="name">duration</span>: <span class="number">1000</span>
         }
     }
 }
</pre>
<p>The interesting part is what is happening inside the Mesh and Capsule Links files. Let's take a look at each one of them.</p>
<h4 id="mesh-link">Mesh Link</h4>
<pre class="qml" translate="no">
 <span class="type"><a href="qml-qtquick3d-physics-dynamicrigidbody.html" translate="no">DynamicRigidBody</a></span> {
     <span class="name">scale</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(<span class="number">100</span>, <span class="number">100</span>, <span class="number">100</span>)
     property <span class="type"><a href="../qtquick/qml-color.html" translate="no">color</a></span> <span class="name">color</span>: <span class="string">&quot;white&quot;</span>
     <span class="type"><a href="../qtquick3d/qml-qtquick3d-principledmaterial.html" translate="no">PrincipledMaterial</a></span> {
         <span class="name">id</span>: <span class="name">_material</span>
         <span class="name">baseColor</span>: <span class="name">color</span>
         <span class="name">metalness</span>: <span class="number">1.0</span>
         <span class="name">roughness</span>: <span class="number">0.5</span>
     }

     <span class="type"><a href="../qtquick3d/qml-qtquick3d-model.html" translate="no">Model</a></span> {
         <span class="name">source</span>: <span class="string">&quot;meshes/ring.mesh&quot;</span>
         <span class="name">materials</span>: [<span class="name">_material</span>]
     }

     <span class="name">collisionShapes</span>: [
         <span class="type"><a href="qml-qtquick3d-physics-convexmeshshape.html" translate="no">ConvexMeshShape</a></span> {
             <span class="name">source</span>: <span class="string">&quot;meshes/segmentedRing_001.mesh&quot;</span>
         },
         <span class="type"><a href="qml-qtquick3d-physics-convexmeshshape.html" translate="no">ConvexMeshShape</a></span> {
             <span class="name">source</span>: <span class="string">&quot;meshes/segmentedRing_002.mesh&quot;</span>
         },
         <span class="type"><a href="qml-qtquick3d-physics-convexmeshshape.html" translate="no">ConvexMeshShape</a></span> {
             <span class="name">source</span>: <span class="string">&quot;meshes/segmentedRing_003.mesh&quot;</span>
         },
         <span class="type"><a href="qml-qtquick3d-physics-convexmeshshape.html" translate="no">ConvexMeshShape</a></span> {
             <span class="name">source</span>: <span class="string">&quot;meshes/segmentedRing_004.mesh&quot;</span>
         },
         <span class="type"><a href="qml-qtquick3d-physics-convexmeshshape.html" translate="no">ConvexMeshShape</a></span> {
             <span class="name">source</span>: <span class="string">&quot;meshes/segmentedRing_005.mesh&quot;</span>
         },
         <span class="type"><a href="qml-qtquick3d-physics-convexmeshshape.html" translate="no">ConvexMeshShape</a></span> {
             <span class="name">source</span>: <span class="string">&quot;meshes/segmentedRing_006.mesh&quot;</span>
         },
         <span class="type"><a href="qml-qtquick3d-physics-convexmeshshape.html" translate="no">ConvexMeshShape</a></span> {
             <span class="name">source</span>: <span class="string">&quot;meshes/segmentedRing_007.mesh&quot;</span>
         },
         <span class="type"><a href="qml-qtquick3d-physics-convexmeshshape.html" translate="no">ConvexMeshShape</a></span> {
             <span class="name">source</span>: <span class="string">&quot;meshes/segmentedRing_008.mesh&quot;</span>
         },
         <span class="type"><a href="qml-qtquick3d-physics-convexmeshshape.html" translate="no">ConvexMeshShape</a></span> {
             <span class="name">source</span>: <span class="string">&quot;meshes/segmentedRing_009.mesh&quot;</span>
         },
         <span class="type"><a href="qml-qtquick3d-physics-convexmeshshape.html" translate="no">ConvexMeshShape</a></span> {
             <span class="name">source</span>: <span class="string">&quot;meshes/segmentedRing_010.mesh&quot;</span>
         },
         <span class="type"><a href="qml-qtquick3d-physics-convexmeshshape.html" translate="no">ConvexMeshShape</a></span> {
             <span class="name">source</span>: <span class="string">&quot;meshes/segmentedRing_011.mesh&quot;</span>
         },
         <span class="type"><a href="qml-qtquick3d-physics-convexmeshshape.html" translate="no">ConvexMeshShape</a></span> {
             <span class="name">source</span>: <span class="string">&quot;meshes/segmentedRing_012.mesh&quot;</span>
         }
     ]
 }
</pre>
<p>The Mesh Link is a Dynamic Rigid Body with a model and a material. The model loads the mesh from a mesh file. We also have a list of collision shapes that together are combined and form a compound shape for collision detection. Each shape is a Convex Mesh shape which loads the mesh from a source file. A convex shape is basically a shape where the line between any two points within the shape is always inside the shape.</p>
<p>If we take a closer look when the debug mode is enabled, this is how the collision shapes form the compound collision shape:</p>
<p class="centerAlign"><img src="images/compoundshapes-example-meshlink.jpg" alt="" /></p><h4 id="capsule-link">Capsule Link</h4>
<pre class="qml" translate="no">
 <span class="type"><a href="qml-qtquick3d-physics-dynamicrigidbody.html" translate="no">DynamicRigidBody</a></span> {
     property <span class="type"><a href="../qtqml/qml-real.html" translate="no">real</a></span> <span class="name">len</span>: <span class="number">170</span>
     property <span class="type"><a href="../qtqml/qml-real.html" translate="no">real</a></span> <span class="name">w</span>: <span class="number">17</span>
     <span class="type"><a href="../qtquick3d/qml-qtquick3d-principledmaterial.html" translate="no">PrincipledMaterial</a></span> {
         <span class="name">id</span>: <span class="name">material3</span>
         <span class="name">baseColor</span>: <span class="string">&quot;yellow&quot;</span>
         <span class="name">metalness</span>: <span class="number">1.0</span>
         <span class="name">roughness</span>: <span class="number">0.5</span>
     }
     <span class="type"><a href="../qtquick3d/qml-qtquick3d-node.html" translate="no">Node</a></span> {
         <span class="name">opacity</span>: <span class="number">1</span>
         <span class="type"><a href="../qtquick3d/qml-qtquick3d-model.html" translate="no">Model</a></span> {
             <span class="name">materials</span>: <span class="name">material3</span>
             <span class="name">source</span>: <span class="string">&quot;#Cylinder&quot;</span>
             <span class="name">scale</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(<span class="name">w</span> <span class="operator">/</span> <span class="number">100</span>, <span class="name">len</span> <span class="operator">/</span> <span class="number">100</span>, <span class="name">w</span> <span class="operator">/</span> <span class="number">100</span>)
             <span class="name">eulerRotation</span>.z: <span class="number">90</span>
             <span class="name">y</span>: -<span class="name">len</span> <span class="operator">/</span> <span class="number">2</span>
         }
         <span class="type"><a href="../qtquick3d/qml-qtquick3d-model.html" translate="no">Model</a></span> {
             <span class="name">materials</span>: <span class="name">material3</span>
             <span class="name">source</span>: <span class="string">&quot;#Cylinder&quot;</span>
             <span class="name">scale</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(<span class="name">w</span> <span class="operator">/</span> <span class="number">100</span>, <span class="name">len</span> <span class="operator">/</span> <span class="number">100</span>, <span class="name">w</span> <span class="operator">/</span> <span class="number">100</span>)
             <span class="name">eulerRotation</span>.z: <span class="number">90</span>
             <span class="name">y</span>: <span class="name">len</span> <span class="operator">/</span> <span class="number">2</span>
         }
         <span class="type"><a href="../qtquick3d/qml-qtquick3d-model.html" translate="no">Model</a></span> {
             <span class="name">materials</span>: <span class="name">material3</span>
             <span class="name">source</span>: <span class="string">&quot;#Cylinder&quot;</span>
             <span class="name">scale</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(<span class="name">w</span> <span class="operator">/</span> <span class="number">100</span>, <span class="name">len</span> <span class="operator">/</span> <span class="number">100</span>, <span class="name">w</span> <span class="operator">/</span> <span class="number">100</span>)
             <span class="name">x</span>: <span class="name">len</span> <span class="operator">/</span> <span class="number">2</span>
         }
         <span class="type"><a href="../qtquick3d/qml-qtquick3d-model.html" translate="no">Model</a></span> {
             <span class="name">materials</span>: <span class="name">material3</span>
             <span class="name">source</span>: <span class="string">&quot;#Cylinder&quot;</span>
             <span class="name">scale</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(<span class="name">w</span> <span class="operator">/</span> <span class="number">100</span>, <span class="name">len</span> <span class="operator">/</span> <span class="number">100</span>, <span class="name">w</span> <span class="operator">/</span> <span class="number">100</span>)
             <span class="name">x</span>: -<span class="name">len</span> <span class="operator">/</span> <span class="number">2</span>
         }
         <span class="type"><a href="../qtquick3d/qml-qtquick3d-model.html" translate="no">Model</a></span> {
             <span class="name">materials</span>: <span class="name">material3</span>
             <span class="name">source</span>: <span class="string">&quot;#Sphere&quot;</span>
             <span class="name">scale</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(<span class="name">w</span> <span class="operator">/</span> <span class="number">100</span>, <span class="name">w</span> <span class="operator">/</span> <span class="number">100</span>, <span class="name">w</span> <span class="operator">/</span> <span class="number">100</span>)
             <span class="name">x</span>: -<span class="name">len</span> <span class="operator">/</span> <span class="number">2</span>
             <span class="name">y</span>: -<span class="name">len</span> <span class="operator">/</span> <span class="number">2</span>
         }
         <span class="type"><a href="../qtquick3d/qml-qtquick3d-model.html" translate="no">Model</a></span> {
             <span class="name">materials</span>: <span class="name">material3</span>
             <span class="name">source</span>: <span class="string">&quot;#Sphere&quot;</span>
             <span class="name">scale</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(<span class="name">w</span> <span class="operator">/</span> <span class="number">100</span>, <span class="name">w</span> <span class="operator">/</span> <span class="number">100</span>, <span class="name">w</span> <span class="operator">/</span> <span class="number">100</span>)
             <span class="name">x</span>: -<span class="name">len</span> <span class="operator">/</span> <span class="number">2</span>
             <span class="name">y</span>: <span class="name">len</span> <span class="operator">/</span> <span class="number">2</span>
         }
         <span class="type"><a href="../qtquick3d/qml-qtquick3d-model.html" translate="no">Model</a></span> {
             <span class="name">materials</span>: <span class="name">material3</span>
             <span class="name">source</span>: <span class="string">&quot;#Sphere&quot;</span>
             <span class="name">scale</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(<span class="name">w</span> <span class="operator">/</span> <span class="number">100</span>, <span class="name">w</span> <span class="operator">/</span> <span class="number">100</span>, <span class="name">w</span> <span class="operator">/</span> <span class="number">100</span>)
             <span class="name">x</span>: <span class="name">len</span> <span class="operator">/</span> <span class="number">2</span>
             <span class="name">y</span>: -<span class="name">len</span> <span class="operator">/</span> <span class="number">2</span>
         }
         <span class="type"><a href="../qtquick3d/qml-qtquick3d-model.html" translate="no">Model</a></span> {
             <span class="name">materials</span>: <span class="name">material3</span>
             <span class="name">source</span>: <span class="string">&quot;#Sphere&quot;</span>
             <span class="name">scale</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(<span class="name">w</span> <span class="operator">/</span> <span class="number">100</span>, <span class="name">w</span> <span class="operator">/</span> <span class="number">100</span>, <span class="name">w</span> <span class="operator">/</span> <span class="number">100</span>)
             <span class="name">x</span>: <span class="name">len</span> <span class="operator">/</span> <span class="number">2</span>
             <span class="name">y</span>: <span class="name">len</span> <span class="operator">/</span> <span class="number">2</span>
         }
     }
     <span class="name">collisionShapes</span>: [
         <span class="type"><a href="qml-qtquick3d-physics-capsuleshape.html" translate="no">CapsuleShape</a></span> {
             <span class="name">y</span>: -<span class="name">len</span> <span class="operator">/</span> <span class="number">2</span>
             <span class="name">height</span>: <span class="name">len</span>
             <span class="name">diameter</span>: <span class="name">w</span>
         },
         <span class="type"><a href="qml-qtquick3d-physics-capsuleshape.html" translate="no">CapsuleShape</a></span> {
             <span class="name">y</span>: <span class="name">len</span> <span class="operator">/</span> <span class="number">2</span>
             <span class="name">height</span>: <span class="name">len</span>
             <span class="name">diameter</span>: <span class="name">w</span>
         },
         <span class="type"><a href="qml-qtquick3d-physics-capsuleshape.html" translate="no">CapsuleShape</a></span> {
             <span class="name">x</span>: -<span class="name">len</span> <span class="operator">/</span> <span class="number">2</span>
             <span class="name">eulerRotation</span>.z: <span class="number">90</span>
             <span class="name">height</span>: <span class="name">len</span>
             <span class="name">diameter</span>: <span class="name">w</span>
         },
         <span class="type"><a href="qml-qtquick3d-physics-capsuleshape.html" translate="no">CapsuleShape</a></span> {
             <span class="name">x</span>: <span class="name">len</span> <span class="operator">/</span> <span class="number">2</span>
             <span class="name">eulerRotation</span>.z: <span class="number">90</span>
             <span class="name">height</span>: <span class="name">len</span>
             <span class="name">diameter</span>: <span class="name">w</span>
         }
     ]
 }
</pre>
<p>The Capsule Link is a Dynamic Rigid Body with some models that share the same material. This link is formed from several cylinders and spheres. Like the Mesh Link we have a list of collision shapes. This time each shape is a Capsule Shape.</p>
<p>If we take a closer look when the debug mode is enabled, this is how the collision shapes form the compound collision shape.</p>
<p class="centerAlign"><img src="images/compoundshapes-example-capsulelink.jpg" alt="" /></p><p>Files:</p>
<ul>
<li><a href="qtquick3dphysics-compoundshapes-cmakelists-txt.html" translate="no">compoundshapes/CMakeLists.txt</a></li>
<li><a href="qtquick3dphysics-compoundshapes-capsulelink-qml.html" translate="no">compoundshapes/CapsuleLink.qml</a></li>
<li><a href="qtquick3dphysics-compoundshapes-meshlink-qml.html" translate="no">compoundshapes/MeshLink.qml</a></li>
<li><a href="qtquick3dphysics-compoundshapes-compoundshapes-pro.html" translate="no">compoundshapes/compoundshapes.pro</a></li>
<li><a href="qtquick3dphysics-compoundshapes-main-cpp.html" translate="no">compoundshapes/main.cpp</a></li>
<li><a href="qtquick3dphysics-compoundshapes-main-qml.html" translate="no">compoundshapes/main.qml</a></li>
<li><a href="qtquick3dphysics-compoundshapes-qml-qrc.html" translate="no">compoundshapes/qml.qrc</a></li>
<li><a href="qtquick3dphysics-compoundshapes-resources-qrc.html" translate="no">compoundshapes/resources.qrc</a></li>
</ul>
</div>
<!-- @@@compoundshapes -->
        </div>
       </div>
   </div>
   </div>
</div>
<div class="footer">
   <p>
   <acronym title="Copyright">&copy;</acronym> 2023 The Qt Company Ltd.
   Documentation contributions included herein are the copyrights of
   their respective owners.<br/>    The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the Free Software Foundation.<br/>    Qt and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of The Qt Company Ltd. in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>
</div>
</body>
</html>
