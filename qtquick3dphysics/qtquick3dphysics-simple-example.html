<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
<!-- qtquick3dphysics-examples-simple.qdoc -->
  <meta name="description" content="Demonstrates setting up a simple physics scene.">
  <title>Qt Quick 3D Physics - Simple Example | Qt Quick 3D Physics 6.6.0</title>
  <link rel="stylesheet" type="text/css" href="style/offline-simple.css" />
  <script type="text/javascript">
    document.getElementsByTagName("link").item(0).setAttribute("href", "style/offline.css");
    // loading style sheet breaks anchors that were jumped to before
    // so force jumping to anchor again
    setTimeout(function() {
        var anchor = location.hash;
        // need to jump to different anchor first (e.g. none)
        location.hash = "#";
        setTimeout(function() {
            location.hash = anchor;
        }, 0);
    }, 0);
  </script>
</head>
<body>
<div class="header" id="qtdocheader">
    <div class="main">
    <div class="main-rounded">
        <div class="navigationbar">
        <ul>
<li><a href="../qtdoc/index.html" translate="no">Qt 6.6</a></li>
<li><a href="qtquick3dphysics-index.html" translate="no">Qt Quick 3D Physics</a></li>
<li><a href="quick3dphysics-examples.html" translate="no">Qt Quick 3D Physics Examples and Tutorials</a></li>
<li>Qt Quick 3D Physics - Simple Example</li>
<li id="buildversion"><a href="qtquick3dphysics-index.html" translate="no">Qt Quick 3D Physics | Commercial or GPLv3</a></li>
    </ul>
    </div>
</div>
<div class="content">
<div class="line">
<div class="content mainContent">
<div class="sidebar">
<div class="toc">
<h3 id="toc">Contents</h3>
<ul>
<li class="level1"><a href="#setup">Setup</a></li>
<li class="level1"><a href="#scene">Scene</a></li>
<li class="level1"><a href="#shapes">Shapes</a></li>
<li class="level2"><a href="#plane">Plane</a></li>
<li class="level2"><a href="#box">Box</a></li>
<li class="level2"><a href="#sphere">Sphere</a></li>
<li class="level2"><a href="#capsule">Capsule</a></li>
</ul>
</div>
<div class="sidebar-content" id="sidebar-content"></div></div>
<h1 class="title">Qt Quick 3D Physics - Simple Example</h1>
<!-- $$$simple-brief -->
<p>Demonstrates setting up a simple physics scene.</p>
<!-- @@@simple -->
<!-- $$$simple-description -->
<div class="descr" id="details">
<p class="centerAlign"><img src="images/simple-example.jpg" alt="" /></p><p>This example gives an introductory overview of the basic Quick 3D Physics features by going through the code of a simple example. Note that this introduction assumes a familiarity with the Qt Quick 3D module.</p>
<h4 id="setup">Setup</h4>
<p>The whole example is contained and set up in the <i>main.qml</i> file. Let's first look at the object that creates the physical world. This node is called <a href="qml-qtquick3d-physics-physicsworld.html" translate="no">PhysicsWorld</a>:</p>
<pre class="qml" translate="no">
 <span class="type"><a href="qml-qtquick3d-physics-physicsworld.html" translate="no">PhysicsWorld</a></span> {
     <span class="name">scene</span>: <span class="name">viewport</span>.<span class="name">scene</span>
 }
</pre>
<p>We set the <a href="qml-qtquick3d-physics-physicsworld.html#scene-prop" translate="no">scene</a> property to the scene of our <a href="../qtquick3d/qml-qtquick3d-view3d.html" translate="no">View3D</a>. The <code translate="no">scene</code> property defines where the simulation will look for physics nodes to simulate. Any physics nodes placed outside of the scene node will not be part of the simulation.</p>
<h4 id="scene">Scene</h4>
<p>Let's have a look at the scene.</p>
<pre class="qml" translate="no">
 <span class="type"><a href="../qtquick3d/qml-qtquick3d-view3d.html" translate="no">View3D</a></span> {
     <span class="name">id</span>: <span class="name">viewport</span>
     <span class="name">anchors</span>.fill: <span class="name">parent</span>

     <span class="name">environment</span>: <span class="name">SceneEnvironment</span> {
         <span class="name">clearColor</span>: <span class="string">&quot;#d6dbdf&quot;</span>
         <span class="name">backgroundMode</span>: <span class="name">SceneEnvironment</span>.<span class="name">Color</span>
     }

     <span class="type"><a href="../qtquick3d/qml-qtquick3d-perspectivecamera.html" translate="no">PerspectiveCamera</a></span> {
         <span class="name">position</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(-<span class="number">200</span>, <span class="number">100</span>, <span class="number">500</span>)
         <span class="name">eulerRotation</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(-<span class="number">20</span>, -<span class="number">20</span>, <span class="number">0</span>)
         <span class="name">clipFar</span>: <span class="number">5000</span>
         <span class="name">clipNear</span>: <span class="number">1</span>
     }

     <span class="type"><a href="../qtquick3d/qml-qtquick3d-directionallight.html" translate="no">DirectionalLight</a></span> {
         <span class="name">eulerRotation</span>.x: -<span class="number">45</span>
         <span class="name">eulerRotation</span>.y: <span class="number">45</span>
         <span class="name">castsShadow</span>: <span class="number">true</span>
         <span class="name">brightness</span>: <span class="number">1</span>
         <span class="name">shadowFactor</span>: <span class="number">100</span>
     }

     <span class="type"><a href="qml-qtquick3d-physics-staticrigidbody.html" translate="no">StaticRigidBody</a></span> {
         <span class="name">position</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(<span class="number">0</span>, -<span class="number">100</span>, <span class="number">0</span>)
         <span class="name">eulerRotation</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(-<span class="number">90</span>, <span class="number">0</span>, <span class="number">0</span>)
         <span class="name">collisionShapes</span>: <span class="name">PlaneShape</span> {}
         <span class="type"><a href="../qtquick3d/qml-qtquick3d-model.html" translate="no">Model</a></span> {
             <span class="name">source</span>: <span class="string">&quot;#Rectangle&quot;</span>
             <span class="name">scale</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(<span class="number">10</span>, <span class="number">10</span>, <span class="number">1</span>)
             <span class="name">materials</span>: <span class="name">DefaultMaterial</span> {
                 <span class="name">diffuseColor</span>: <span class="string">&quot;green&quot;</span>
             }
             <span class="name">castsShadows</span>: <span class="number">false</span>
             <span class="name">receivesShadows</span>: <span class="number">true</span>
         }
     }

     <span class="type"><a href="qml-qtquick3d-physics-dynamicrigidbody.html" translate="no">DynamicRigidBody</a></span> {
         <span class="name">position</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(-<span class="number">100</span>, <span class="number">100</span>, <span class="number">0</span>)
         <span class="name">collisionShapes</span>: <span class="name">BoxShape</span> {
             <span class="name">id</span>: <span class="name">boxShape</span>
         }
         <span class="type"><a href="../qtquick3d/qml-qtquick3d-model.html" translate="no">Model</a></span> {
             <span class="name">source</span>: <span class="string">&quot;#Cube&quot;</span>
             <span class="name">materials</span>: <span class="name">PrincipledMaterial</span> {
                 <span class="name">baseColor</span>: <span class="string">&quot;yellow&quot;</span>
             }
         }
     }

     <span class="type"><a href="qml-qtquick3d-physics-dynamicrigidbody.html" translate="no">DynamicRigidBody</a></span> {
         <span class="name">position</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(<span class="number">0</span>, <span class="number">100</span>, <span class="number">0</span>)
         <span class="name">collisionShapes</span>: <span class="name">SphereShape</span> {
             <span class="name">id</span>: <span class="name">sphereShape</span>
         }
         <span class="type"><a href="../qtquick3d/qml-qtquick3d-model.html" translate="no">Model</a></span> {
             <span class="name">source</span>: <span class="string">&quot;#Sphere&quot;</span>
             <span class="name">materials</span>: <span class="name">PrincipledMaterial</span> {
                 <span class="name">baseColor</span>: <span class="string">&quot;blue&quot;</span>
             }
         }
     }

     <span class="type"><a href="qml-qtquick3d-physics-dynamicrigidbody.html" translate="no">DynamicRigidBody</a></span> {
         <span class="name">position</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(<span class="number">75</span>, <span class="number">200</span>, <span class="number">0</span>)
         <span class="name">collisionShapes</span>: <span class="name">CapsuleShape</span> {
             <span class="name">id</span>: <span class="name">capsuleShape</span>
         }

         <span class="type"><a href="../qtquick3d/qml-qtquick3d-model.html" translate="no">Model</a></span> {
             <span class="name">geometry</span>: <span class="name">CapsuleGeometry</span> {}
             <span class="name">materials</span>: <span class="name">PrincipledMaterial</span> {
                 <span class="name">baseColor</span>: <span class="string">&quot;red&quot;</span>
             }
         }
     }
 }
</pre>
<p>Our scene is just a <a href="../qtquick3d/qml-qtquick3d-view3d.html" translate="no">View3D</a> since we want to draw our physical objects. It contains a <a href="../qtquick3d/qml-qtquick3d-perspectivecamera.html" translate="no">PerspectiveCamera</a> and a <a href="../qtquick3d/qml-qtquick3d-directionallight.html" translate="no">DirectionalLight</a> for rendering, but more importantly it contains a <a href="qml-qtquick3d-physics-staticrigidbody.html" translate="no">StaticRigidBody</a> and three <a href="qml-qtquick3d-physics-dynamicrigidbody.html" translate="no">DynamicRigidBody</a> nodes. In physics, a rigid body is a non-deformable, solid body with uniform density. We have two types of rigid bodies available; <a href="qml-qtquick3d-physics-staticrigidbody.html" translate="no">StaticRigidBody</a> and <a href="qml-qtquick3d-physics-dynamicrigidbody.html" translate="no">DynamicRigidBody</a>. A <a href="qml-qtquick3d-physics-staticrigidbody.html" translate="no">StaticRigidBody</a> is a QML node which contains a static (immovable) rigid body. It is technically possible to move the body but it will incur a performance penalty. A <a href="qml-qtquick3d-physics-dynamicrigidbody.html" translate="no">DynamicRigidBody</a> on the other hand is used for objects that can move. A <a href="qml-qtquick3d-physics-dynamicrigidbody.html" translate="no">DynamicRigidBody</a> has a <a href="qml-qtquick3d-physics-dynamicrigidbody.html#isKinematic-prop" translate="no">isKinematic</a> property, when it is set to true the rigid body will not be influenced by external forces and can be controlled from scripts and animations. For instance a football would not be kinematic but an elevator or a moving platform typically would. This also means that if you update the <code translate="no">position</code> property of the football it would not move to that position whereas the elevator would.</p>
<p>To be able to interact with other physical objects the <a href="qml-qtquick3d-physics-physicsnode.html#collisionShapes-prop" translate="no">collisionShapes</a> property needs to be set. The <a href="qml-qtquick3d-physics-physicsnode.html#collisionShapes-prop" translate="no">collisionShapes</a> property is a list that can contain one or more shapes and will act as one rigid unit combined. You can position and rotate these shapes in relation to each other. Note that plane, triangle mesh and heightmap shapes only work with dynamic bodies if the body is kinematic.</p>
<h4 id="shapes">Shapes</h4>
<p>Our scene contains four physical objects (plane, box, ball, capsule). We will go through them one at a time.</p>
<h5 id="plane">Plane</h5>
<pre class="qml" translate="no">
 <span class="type"><a href="qml-qtquick3d-physics-staticrigidbody.html" translate="no">StaticRigidBody</a></span> {
     <span class="name">position</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(<span class="number">0</span>, -<span class="number">100</span>, <span class="number">0</span>)
     <span class="name">eulerRotation</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(-<span class="number">90</span>, <span class="number">0</span>, <span class="number">0</span>)
     <span class="name">collisionShapes</span>: <span class="name">PlaneShape</span> {}
     <span class="type"><a href="../qtquick3d/qml-qtquick3d-model.html" translate="no">Model</a></span> {
         <span class="name">source</span>: <span class="string">&quot;#Rectangle&quot;</span>
         <span class="name">scale</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(<span class="number">10</span>, <span class="number">10</span>, <span class="number">1</span>)
         <span class="name">materials</span>: <span class="name">DefaultMaterial</span> {
             <span class="name">diffuseColor</span>: <span class="string">&quot;green&quot;</span>
         }
         <span class="name">castsShadows</span>: <span class="number">false</span>
         <span class="name">receivesShadows</span>: <span class="number">true</span>
     }
 }
</pre>
<p>We create a plane by making a <a href="qml-qtquick3d-physics-staticrigidbody.html" translate="no">StaticRigidBody</a> node. In this node we set the <a href="qml-qtquick3d-physics-physicsnode.html#collisionShapes-prop" translate="no">collisionShapes</a> property to contain a <a href="qml-qtquick3d-physics-planeshape.html" translate="no">PlaneShape</a>. Planes divide space into &quot;above&quot; and &quot;below&quot; them. Everything &quot;below&quot; the plane will collide with it and be pushed above it. The Plane lies on the YZ plane with &quot;above&quot; pointing towards positive X. We put a Model inside our <a href="qml-qtquick3d-physics-staticrigidbody.html" translate="no">StaticRigidBody</a> node to render the plane. This is a common pattern which makes sure that the model also moves and rotates in the same way when the physical object interacts in the scene. Since we want the plane to lie on the XY plane we rotate it using the <code translate="no">eulerRotation</code> property. We rotate the model in a similar way.</p>
<h5 id="box">Box</h5>
<pre class="qml" translate="no">
 <span class="type"><a href="qml-qtquick3d-physics-dynamicrigidbody.html" translate="no">DynamicRigidBody</a></span> {
     <span class="name">position</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(-<span class="number">100</span>, <span class="number">100</span>, <span class="number">0</span>)
     <span class="name">collisionShapes</span>: <span class="name">BoxShape</span> {
         <span class="name">id</span>: <span class="name">boxShape</span>
     }
     <span class="type"><a href="../qtquick3d/qml-qtquick3d-model.html" translate="no">Model</a></span> {
         <span class="name">source</span>: <span class="string">&quot;#Cube&quot;</span>
         <span class="name">materials</span>: <span class="name">PrincipledMaterial</span> {
             <span class="name">baseColor</span>: <span class="string">&quot;yellow&quot;</span>
         }
     }
 }
</pre>
<p>We create a sphere by making a <a href="qml-qtquick3d-physics-dynamicrigidbody.html" translate="no">DynamicRigidBody</a> node and a single <a href="qml-qtquick3d-physics-boxshape.html" translate="no">BoxShape</a> in <a href="qml-qtquick3d-physics-physicsnode.html#collisionShapes-prop" translate="no">collisionShapes</a>. Since this is a dynamic node the box will interact with the scene by colliding and moving like a free object. Since the cube model is a hundred times bigger than a unit cube we need to scale it accordingly. Since this is a dynamic body and thus have a physical weight we set the <a href="qml-qtquick3d-physics-dynamicrigidbody.html#density-prop" translate="no">density</a> property.</p>
<h5 id="sphere">Sphere</h5>
<pre class="qml" translate="no">
 <span class="type"><a href="qml-qtquick3d-physics-dynamicrigidbody.html" translate="no">DynamicRigidBody</a></span> {
     <span class="name">position</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(<span class="number">0</span>, <span class="number">100</span>, <span class="number">0</span>)
     <span class="name">collisionShapes</span>: <span class="name">SphereShape</span> {
         <span class="name">id</span>: <span class="name">sphereShape</span>
     }
     <span class="type"><a href="../qtquick3d/qml-qtquick3d-model.html" translate="no">Model</a></span> {
         <span class="name">source</span>: <span class="string">&quot;#Sphere&quot;</span>
         <span class="name">materials</span>: <span class="name">PrincipledMaterial</span> {
             <span class="name">baseColor</span>: <span class="string">&quot;blue&quot;</span>
         }
     }
 }
</pre>
<p>We create a sphere by making a <a href="qml-qtquick3d-physics-dynamicrigidbody.html" translate="no">DynamicRigidBody</a> node and a single <a href="qml-qtquick3d-physics-sphereshape.html" translate="no">SphereShape</a> in <a href="qml-qtquick3d-physics-physicsnode.html#collisionShapes-prop" translate="no">collisionShapes</a>.</p>
<h5 id="capsule">Capsule</h5>
<pre class="qml" translate="no">
 <span class="type"><a href="qml-qtquick3d-physics-dynamicrigidbody.html" translate="no">DynamicRigidBody</a></span> {
     <span class="name">position</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(<span class="number">75</span>, <span class="number">200</span>, <span class="number">0</span>)
     <span class="name">collisionShapes</span>: <span class="name">CapsuleShape</span> {
         <span class="name">id</span>: <span class="name">capsuleShape</span>
     }

     <span class="type"><a href="../qtquick3d/qml-qtquick3d-model.html" translate="no">Model</a></span> {
         <span class="name">geometry</span>: <span class="name">CapsuleGeometry</span> {}
         <span class="name">materials</span>: <span class="name">PrincipledMaterial</span> {
             <span class="name">baseColor</span>: <span class="string">&quot;red&quot;</span>
         }
     }
 }
</pre>
<p>We create a capsule by making a <a href="qml-qtquick3d-physics-dynamicrigidbody.html" translate="no">DynamicRigidBody</a> node and a single <a href="qml-qtquick3d-physics-capsuleshape.html" translate="no">CapsuleShape</a> in <a href="qml-qtquick3d-physics-physicsnode.html#collisionShapes-prop" translate="no">collisionShapes</a>. We build a capsule model by using the built-in CapsuleGeometry provided by Qt Quick 3D Physics.</p>
<p>Files:</p>
<ul>
<li><a href="qtquick3dphysics-simple-cmakelists-txt.html" translate="no">simple/CMakeLists.txt</a></li>
<li><a href="qtquick3dphysics-simple-main-cpp.html" translate="no">simple/main.cpp</a></li>
<li><a href="qtquick3dphysics-simple-main-qml.html" translate="no">simple/main.qml</a></li>
<li><a href="qtquick3dphysics-simple-qml-qrc.html" translate="no">simple/qml.qrc</a></li>
<li><a href="qtquick3dphysics-simple-simple-pro.html" translate="no">simple/simple.pro</a></li>
</ul>
</div>
<!-- @@@simple -->
        </div>
       </div>
   </div>
   </div>
</div>
<div class="footer">
   <p>
   <acronym title="Copyright">&copy;</acronym> 2023 The Qt Company Ltd.
   Documentation contributions included herein are the copyrights of
   their respective owners.<br/>    The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the Free Software Foundation.<br/>    Qt and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of The Qt Company Ltd. in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>
</div>
</body>
</html>
