<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
<!-- qt6-changes.qdoc -->
  <meta name="description" content="Migrate Qt WebEngine to Qt 6.">
  <title>Changes to Qt WebEngine | Qt WebEngine 6.6.2</title>
  <link rel="stylesheet" type="text/css" href="style/offline-simple.css" />
  <script type="text/javascript">
    document.getElementsByTagName("link").item(0).setAttribute("href", "style/offline.css");
    // loading style sheet breaks anchors that were jumped to before
    // so force jumping to anchor again
    setTimeout(function() {
        var anchor = location.hash;
        // need to jump to different anchor first (e.g. none)
        location.hash = "#";
        setTimeout(function() {
            location.hash = anchor;
        }, 0);
    }, 0);
  </script>
</head>
<body>
<div class="header" id="qtdocheader">
    <div class="main">
    <div class="main-rounded">
        <div class="navigationbar">
        <ul>
<li><a href="../qtdoc/index.html" translate="no">Qt 6.6</a></li>
<li><a href="qtwebengine-index.html" translate="no">Qt WebEngine</a></li>
<li>Changes to Qt WebEngine</li>
<li id="buildversion"><a href="qtwebengine-index.html" translate="no">Qt 6.6.2 Reference Documentation</a></li>
    </ul>
    </div>
</div>
<div class="content">
<div class="line">
<div class="content mainContent">
<div class="sidebar">
<div class="toc">
<h3 id="toc">Contents</h3>
<ul>
<li class="level1"><a href="#moved-classes">Moved Classes</a></li>
<li class="level2"><a href="#the-qt-webengine-module">The Qt WebEngine module</a></li>
<li class="level2"><a href="#classes-moved-from-qt-webenginewidgets-to-qt-webenginecore">Classes moved from Qt WebEngineWidgets to Qt WebEngineCore</a></li>
<li class="level2"><a href="#classes-moved-from-qt-webenginequick-to-qt-webenginecore">Classes moved from Qt WebEngineQuick to Qt WebEngineCore</a></li>
<li class="level1"><a href="#changed-api">Changed API</a></li>
<li class="level2"><a href="#c">C++</a></li>
<li class="level2"><a href="#qml">QML</a></li>
<li class="level1"><a href="#changed-behavior">Changed Behavior</a></li>
<li class="level2"><a href="#default-profile">Default Profile</a></li>
<li class="level2"><a href="#qrc-scheme">QRC Scheme</a></li>
<li class="level2"><a href="#ocsp-certificate-revocation-checking">OCSP Certificate Revocation Checking</a></li>
</ul>
</div>
<div class="sidebar-content" id="sidebar-content"></div></div>
<h1 class="title">Changes to Qt WebEngine</h1>
<!-- $$$qtwebengine-changes-qt6.html-description -->
<div class="descr" id="details">
<p>Qt 6 is a result of the conscious effort to make the framework more efficient and easy to use.</p>
<p>We try to maintain binary and source compatibility for all the public APIs in each release. But some changes were inevitable in an effort to make Qt a better framework</p>
<p>In this topic we summarize those changes in Qt <a href="qml-qtwebengine-webengine.html" translate="no">WebEngine</a>, and provide guidance to handle them.</p>
<h2 id="moved-classes">Moved Classes</h2>
<h3 id="the-qt-webengine-module">The Qt WebEngine module</h3>
<p>Has been renamed to the Qt WebEngineQuick module to not collide with the name of the super module, and to be consistent with other Quick modules.</p>
<p>If you port your Qt Quick application, please remember to use the new module name in your qmake project file.</p>
<pre class="cpp" translate="no">
 QT <span class="operator">+</span><span class="operator">=</span> webenginequick
</pre>
<h3 id="classes-moved-from-qt-webenginewidgets-to-qt-webenginecore">Classes moved from Qt WebEngineWidgets to Qt WebEngineCore</h3>
<p>Several classes have been moved from Qt WebEngineWidgets to Qt WebEngineCore if they did not use the Widgets module. In most cases this change should be source compatible unless you included the module name in the include header, in which case you need to update your includes.</p>
<h4 id="classes-moved-with-minimal-changes">Classes moved with minimal changes</h4>
<ul>
<li><a href="qwebenginehistory.html" translate="no">QWebEngineHistory</a></li>
<li><a href="qwebengineprofile.html" translate="no">QWebEngineProfile</a></li>
<li><a href="qwebenginescript.html" translate="no">QWebEngineScript</a></li>
<li><a href="qwebenginescriptcollection.html" translate="no">QWebEngineScriptCollection</a></li>
<li><a href="qwebengineclientcertificateselection.html" translate="no">QWebEngineClientCertificateSelection</a></li>
<li><a href="qwebenginesettings.html" translate="no">QWebEngineSettings</a></li>
<li><a href="qwebenginefullscreenrequest.html" translate="no">QWebEngineFullScreenRequest</a></li>
</ul>
<h4 id="qwebenginecertificateerror">QWebEngineCertificateError</h4>
<p>Has been unified between QML and C++ versions, so both are now accepted or rejected via methods on the class.</p>
<h4 id="qwebenginecontextmenudata">QWebEngineContextMenuData</h4>
<p>Has been moved to Core and renamed <a href="qwebenginecontextmenurequest.html" translate="no">QWebEngineContextMenuRequest</a>.</p>
<h4 id="qwebenginedownloaditem">QWebEngineDownloadItem</h4>
<p>Has been moved to Core and renamed <a href="qwebenginedownloadrequest.html" translate="no">QWebEngineDownloadRequest</a>.</p>
<h4 id="qwebenginepage">QWebEnginePage</h4>
<p>Has been moved to Core, and API that worked on <a href="qwebengineview.html" translate="no">QWebEngineView</a> or <a href="../qtprintsupport/qprinter.html" translate="no">QPrinter</a> has been moved, and can now be accessed only from <a href="qwebengineview.html" translate="no">QWebEngineView</a>. See Changed API.</p>
<h3 id="classes-moved-from-qt-webenginequick-to-qt-webenginecore">Classes moved from Qt WebEngineQuick to Qt WebEngineCore</h3>
<h4 id="webenginenavigationrequest">WebEngineNavigationRequest</h4>
<p>Is now <a href="qwebenginenavigationrequest.html" translate="no">QWebEngineNavigationRequest</a>, and accessible from C++ API as well, adding a more informative variant of <a href="qwebenginepage.html#acceptNavigationRequest" translate="no">QWebEnginePage::acceptNavigationRequest</a>().</p>
<h4 id="webenginenewviewrequest">WebEngineNewViewRequest</h4>
<p>Is now <a href="qml-qtwebengine-webenginenewwindowrequest.html" translate="no">WebEngineNewWindowRequest</a> and <a href="qwebenginenewwindowrequest.html" translate="no">QWebEngineNewWindowRequest</a>, and accessible from C++ API as well, adding a more informative variant of <a href="qwebenginepage.html#createWindow" translate="no">QWebEnginePage::createWindow</a>().</p>
<h2 id="changed-api">Changed API</h2>
<h3 id="c">C++</h3>
<h4 id="qwebenginepage-certificateerror">QWebEnginePage::certificateError()</h4>
<p>Is now a signal instead of a derived method. The errors are either accepted or rejected via methods on the <a href="qwebenginecertificateerror.html" translate="no">QWebEngineCertificateError</a> class.</p>
<h4 id="qwebenginepage-print">QWebEnginePage::print()</h4>
<p>Has been moved to <a href="qwebengineview.html#print" translate="no">QWebEngineView::print</a>() and no longer takes a callback argument but signals finished with <a href="qwebengineview.html#printFinished" translate="no">QWebEngineView::printFinished</a>() instead. It was never possible to have two active print jobs at the same time.</p>
<h4 id="qwebenginepage-view">QWebEnginePage::view()</h4>
<p>Has been removed as <a href="qwebenginepage.html" translate="no">QWebEnginePage</a> and <a href="qwebengineview.html" translate="no">QWebEngineView</a> are now in different modules. The view associated with a page can be accessed using the static helper <a href="qwebengineview.html#forPage" translate="no">QWebEngineView::forPage</a>().</p>
<h4 id="qwebengineprofile-defaultprofile">QWebEngineProfile::defaultProfile()</h4>
<p>Has been removed. The default profile is now an off-the-record profile, and only used if a <a href="qwebenginepage.html" translate="no">QWebEnginePage</a> is created without an explicit profile. To maintain Qt 5 like behavior, create a global profile called &quot;Default&quot; and use it when creating every <a href="qwebenginepage.html" translate="no">QWebEnginePage</a>.</p>
<h3 id="qml">QML</h3>
<h4 id="webenginenavigationrequest">WebEngineNavigationRequest</h4>
<p>The navigation requests are now accepted or rejected like other request objects using accept() or reject() methods.</p>
<h4 id="webenginenewviewrequest">WebEngineNewViewRequest</h4>
<p>Has been renamed <a href="qml-qtwebengine-webenginenewwindowrequest.html" translate="no">WebEngineNewWindowRequest</a>.</p>
<h2 id="changed-behavior">Changed Behavior</h2>
<h3 id="default-profile">Default Profile</h3>
<p>The default profile is now <i>off the record</i>. To have a standard browser profile with disk-cache and cookies, we recommend creating your own profile and using that explicitly.</p>
<h3 id="qrc-scheme">QRC Scheme</h3>
<p>Can no longer be accessed from custom schemes by default, nor can it access local content directly. If the Qt 5 behavior is needed, it can be restored by registering the qrc scheme like a custom URL scheme, and setting the CorsEnabled and LocalAccessAllowed access flags.</p>
<pre class="cpp" translate="no">
 <span class="type"><a href="qwebengineurlscheme.html" translate="no">QWebEngineUrlScheme</a></span> qrcScheme(<span class="type"><a href="../qtcore/qbytearray.html#QByteArrayLiteral" translate="no">QByteArrayLiteral</a></span>(<span class="string">&quot;qrc&quot;</span>));
 qrcScheme<span class="operator">.</span>setFlags(<span class="type"><a href="qwebengineurlscheme.html" translate="no">QWebEngineUrlScheme</a></span><span class="operator">::</span>SecureScheme
                    <span class="operator">|</span> <span class="type"><a href="qwebengineurlscheme.html" translate="no">QWebEngineUrlScheme</a></span><span class="operator">::</span>LocalAccessAllowed
                    <span class="operator">|</span> <span class="type"><a href="qwebengineurlscheme.html" translate="no">QWebEngineUrlScheme</a></span><span class="operator">::</span>CorsEnabled
                    <span class="operator">|</span> <span class="type"><a href="qwebengineurlscheme.html" translate="no">QWebEngineUrlScheme</a></span><span class="operator">::</span>ViewSourceAllowed);
 <span class="type"><a href="qwebengineurlscheme.html" translate="no">QWebEngineUrlScheme</a></span><span class="operator">::</span>registerScheme(qrcScheme);
</pre>
<h3 id="ocsp-certificate-revocation-checking">OCSP Certificate Revocation Checking</h3>
<p>In Qt 5 OCSP could be enabled on Linux using QWebEngineProfile::setUseForGlobalCertificateVerification(true) on a <a href="qwebengineprofile.html" translate="no">QWebEngineProfile</a>. This has been removed in Qt6 as this specific form of OCSP is considered bad. As of Qt 6.2, no new method for revoked certificate checking on Linux has yet been added.</p>
</div>
<!-- @@@qtwebengine-changes-qt6.html -->
        </div>
       </div>
   </div>
   </div>
</div>
<div class="footer">
   <p>
   <acronym title="Copyright">&copy;</acronym> 2024 <span translate="no">The Qt Company Ltd.</span>
   Documentation contributions included herein are the copyrights of
   their respective owners.<br/>    The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the <span translate="no">Free Software Foundation</span>.<br/>    <span translate="no">Qt</span> and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of <span translate="no">The Qt Company Ltd.</span> in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>
</div>
</body>
</html>
